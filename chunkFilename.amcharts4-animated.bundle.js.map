{"version":3,"sources":["webpack:///./node_modules/@amcharts/amcharts4/.internal/themes/animated.js","webpack:///./node_modules/@amcharts/amcharts4/themes/animated.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Type.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/Registry.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Math.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Array.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Disposer.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Iterator.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Percent.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Object.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Dictionary.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/EventDispatcher.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/AsyncPending.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/String.js","webpack:///./node_modules/@amcharts/amcharts4/.internal/core/utils/Cache.js"],"names":["object","transitionDuration","rangeChangeDuration","interpolationDuration","sequencedInterpolation","defaultState","hiddenState","animationDuration","properties","opacity","showOnInit","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","__values","o","m","__read","r","ar","error","__spread","concat","isNaN","Number","getType","toString","getDefault","optional","checkString","Error","checkBoolean","checkNumber","checkObject","checkArray","isArray","checkDate","castString","castNumber","number","JSON","stringify","getTime","toBoolean","toNumber","hasValue","isNumber","converted","isString","replace","toText","isObject","toNumberOrPercent","indexOf","a","getValue","getValueDefault","defaultValue","isDate","Registry","events","themes","loadedThemes","_uidCount","registeredClasses","_placeholders","invalidSprites","invalidDatas","invalidRawDatas","invalidDataItems","invalidDataRange","invalidPositions","invalidLayouts","baseSprites","baseSpritesByUid","queue","uid","getUniqueId","noBase","defineProperty","get","_map","enumerable","configurable","setCache","key","ttl","set","getCache","undefined","dispatch","eventType","data","isEnabled","type","target","dispatchImmediately","getPlaceholder","addToInvalidComponents","component","baseId","removeFromInvalidComponents","addToInvalidSprites","sprite","removeFromInvalidSprites","addToInvalidPositions","removeFromInvalidPositions","addToInvalidLayouts","removeFromInvalidLayouts","registry","is","name","x","PI","Math","HALFPI","RADIANS","DEGREES","toNumberRange","min","max","fitToRange","round","precision","floor","rounded","pow","ceil","stretch","from","to","minValue","maxValue","temp","sin","tan","cos","left","right","closest","values","referenceValue","reduce","prev","curr","abs","intersect","range1","range2","start1","start","start2","end1","end","end2","invertRange","range","intersection","startMax","endMin","getDistance","point1","point2","sqrt","getHorizontalDistance","getVerticalDistance","getCubicCurveDistance","controlPointA","controlPointB","stepCount","distance","prevPoint","point","getPointOnCubicCurve","getScale","startPoint1","startPoint2","initialDistance","currentDistance","getMidPoint","position","getRotation","diff","getAngle","diffX","diffY","angle","atan2","normalizeAngle","getCenterShift","center","getBBox","points","length_1","top_1","bottom","width","height","getCommonRectangle","rectangles","minX","minY","maxX","maxY","rectangle","getPointOnQuadraticCurve","pointA","pointB","controlPoint","mt1","mt2","mt3","getCubicControlPointA","p0","p1","p2","p3","tensionX","tensionY","adjustTension","getCubicControlPointB","tension","fitAngleToRange","startAngle","endAngle","count","getArcRect","radius","MAX_VALUE","bpoints","getArcPoint","fromAngle","toAngle","pt","arc","isInRectangle","getLineIntersection","pointA1","pointA2","pointB1","pointB2","array","any","test","map","fn","output","each","eachReverse","eachContinue","shiftLeft","index","last","first","insert","element","splice","setIndex","remove","pushAll","input","found","move","toIndex","removeIndex","insertIndex","add","unshift","ind","toArray","has","copy","slice","getSortedIndex","ordering","pivot","order","findIndex","matches","find","shuffle","temporaryValue","randomIndex","currentIndex","random","Disposer","dispose","_disposed","_dispose","isDisposed","MultiDisposer","_super","disposers","MutableValueDisposer","_this","_disposer","_value","disposer","reset","CounterDisposer","_counter","increment","fromArray","iter","sum","sort","filter","args","_i","go","push2","flatten","indexed","findMap","contains","foldl","init","min2","max2","join","separator","ListIterator","list","createNewItems","_create","_listCopy","clear","getFirst","returnItem","getLast","item","removeItem","Percent","percent","isPercent","entries","hasKey","keys","keysOrdered","getKey","eachOrdered","ord","merge","object1","object2","copyProperties","source","softCopyProperties","forceCopyProperties","copyAllProperties","DictionaryDisposer","dict","on","oldValue","Dictionary","_dictionary","insertKey","newValue","setKey","updateKey","removeKey","insertKeyIfEmpty","ifEmpty","copyFrom","_a","_b","_c","sortedIterator","DictionaryTemplate","template","_template","isTemplate","clone","EventDispatcher","_listeners","_killed","_disabled","_iterating","_enabled","hasListeners","hasListenersByType","killed","enable","disable","enableType","disableType","amount","Infinity","_removeListener","listener","_removeExistingListener","once","callback","context","_eachListener","info","_shouldDispatch","event","_on","shouldClone","onAll","off","TargetedEventDispatcher","pendingFrame","nextQueue","readQueue","writeQueue","idleQueue","raf","requestAnimationFrame","setTimeout","frameLoop","now","Date","pendFrame","nextFrame","readFrame","writeFrame","whenIdle","triggerIdle","shift","repeat","string","chars","res","choice","charAt","Cache","_storage","owner","ownerStorage","cacheItem","touched","expired","cache"],"mappings":"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","file":"chunkFilename.amcharts4-animated.bundle.js","sourcesContent":["import { is } from \"../core/Registry\";\r\nvar theme = function (object) {\r\n    if (is(object, \"SpriteState\")) {\r\n        object.transitionDuration = 400;\r\n    }\r\n    if (is(object, \"Component\")) {\r\n        object.rangeChangeDuration = 500;\r\n        object.interpolationDuration = 500;\r\n        object.sequencedInterpolation = false;\r\n        if (is(object, \"SankeyDiagram\")) {\r\n            object.sequencedInterpolation = true;\r\n        }\r\n        if (is(object, \"FunnelSeries\")) {\r\n            object.sequencedInterpolation = true;\r\n        }\r\n    }\r\n    if (is(object, \"Chart\")) {\r\n        object.defaultState.transitionDuration = 2000;\r\n        object.hiddenState.transitionDuration = 1000;\r\n    }\r\n    if (is(object, \"Tooltip\")) {\r\n        object.animationDuration = 400;\r\n        object.defaultState.transitionDuration = 400;\r\n        object.hiddenState.transitionDuration = 400;\r\n    }\r\n    if (is(object, \"Scrollbar\")) {\r\n        object.animationDuration = 500;\r\n    }\r\n    if (is(object, \"Series\")) {\r\n        object.defaultState.transitionDuration = 1000;\r\n        object.hiddenState.transitionDuration = 700;\r\n        object.hiddenState.properties.opacity = 1;\r\n        object.showOnInit = true;\r\n    }\r\n    if (is(object, \"MapSeries\")) {\r\n        object.hiddenState.properties.opacity = 0;\r\n    }\r\n    if (is(object, \"PercentSeries\")) {\r\n        object.hiddenState.properties.opacity = 0;\r\n    }\r\n    if (is(object, \"FunnelSlice\")) {\r\n        object.defaultState.transitionDuration = 800;\r\n        object.hiddenState.transitionDuration = 1000;\r\n        object.hiddenState.properties.opacity = 1;\r\n    }\r\n    if (is(object, \"Slice\")) {\r\n        object.defaultState.transitionDuration = 700;\r\n        object.hiddenState.transitionDuration = 1000;\r\n        object.hiddenState.properties.opacity = 1;\r\n    }\r\n    if (is(object, \"Preloader\")) {\r\n        object.hiddenState.transitionDuration = 2000;\r\n    }\r\n    if (is(object, \"Column\")) {\r\n        object.defaultState.transitionDuration = 700;\r\n        object.hiddenState.transitionDuration = 1000;\r\n        object.hiddenState.properties.opacity = 1;\r\n    }\r\n    if (is(object, \"Column3D\")) {\r\n        object.hiddenState.properties.opacity = 0;\r\n    }\r\n};\r\nexport default theme;\r\n//# sourceMappingURL=animated.js.map","export { default } from \"../.internal/themes/animated\";\r\n//# sourceMappingURL=animated.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/**\r\n * A collection of utility functions for various type checks and conversion\r\n * @todo Review unused functions for removal\r\n * @hidden\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { percent, isPercent } from \"./Percent\";\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns `true` if value is not a number (NaN).\r\n *\r\n * @param value Input value\r\n * @return Is NaN?\r\n * @deprecated Is not used anywhere. JS built-in isNaN is used everywhere. Maybe we don't need this, or if we do, then we should use it everywhere\r\n */\r\nexport function isNaN(value) {\r\n    return Number(value) !== value;\r\n}\r\n/**\r\n * Returns a type of the value.\r\n *\r\n * @param value  Input value\r\n * @return Type of the value\r\n */\r\nexport function getType(value) {\r\n    return ({}).toString.call(value);\r\n}\r\n/**\r\n * Returns a default value if the passed in value is empty.\r\n *\r\n * @param value     Input value\r\n * @param optional  Default value\r\n * @return Value or default value whichever is available\r\n * @deprecated Not used anywhere\r\n */\r\nexport function getDefault(value, optional) {\r\n    return value || optional;\r\n}\r\n/**\r\n * Checks if the passed in value is a string.\r\n *\r\n * @param value  Value\r\n * @return Is string?\r\n * @throws {Error}\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkString(value) {\r\n    if (typeof value === \"string\") {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a string but got \" + getType(value));\r\n    }\r\n}\r\n/**\r\n * Checks if the passed in value is a boolean.\r\n *\r\n * @param value  Value\r\n * @return Is boolean?\r\n * @throws {Error}\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkBoolean(value) {\r\n    if (typeof value === \"boolean\") {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a boolean but got \" + getType(value));\r\n    }\r\n}\r\n/**\r\n * Checks if the passed in value is a number.\r\n *\r\n * @param value  Value\r\n * @return Is number?\r\n * @throws {Error}\r\n */\r\nexport function checkNumber(value) {\r\n    if (typeof value === \"number\") {\r\n        if (isNaN(value)) {\r\n            throw new Error(\"Expected a number but got NaN\");\r\n        }\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a number but got \" + getType(value));\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Checks if the passed in value is an object.\r\n *\r\n * @param value  Value\r\n * @return Is object?\r\n * @throws {Error}\r\n * @todo Is the input type correct?\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkObject(value) {\r\n    var t = getType(value);\r\n    if (t === \"[object Object]\") {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected an object but got \" + t);\r\n    }\r\n}\r\n/**\r\n * Checks if the passed in value is an array.\r\n *\r\n * @param value  Value\r\n * @return Is array?\r\n * @throws {Error}\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkArray(value) {\r\n    if (Array.isArray(value)) {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected an array but got \" + getType(value));\r\n    }\r\n}\r\n/**\r\n * Checks if the passed in value is a Date object.\r\n *\r\n * @param value  Value\r\n * @return Is Date object?\r\n * @throws {Error}\r\n * @deprecated Not used anywhere\r\n */\r\nexport function checkDate(value) {\r\n    var t = getType(value);\r\n    if (t === \"[object Date]\") {\r\n        return true;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a date but got \" + t);\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CASTING\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Casts string or a number into string.\r\n *\r\n * @param value  Input\r\n * @return String value\r\n * @deprecated Not used anywhere\r\n */\r\nexport function castString(value) {\r\n    if (typeof value === \"string\") {\r\n        return value;\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        return \"\" + value;\r\n    }\r\n    else {\r\n        throw new Error(\"Expected a string or number but got \" + getType(value));\r\n    }\r\n}\r\n/**\r\n * Casts string or a number into a number.\r\n *\r\n * @param value   Input value\r\n * @return Number  value\r\n * @throws {Error}\r\n */\r\nexport function castNumber(value) {\r\n    if (typeof value === \"string\") {\r\n        var number = +value;\r\n        if (isNaN(number)) {\r\n            throw new Error(\"Cannot cast string \" + JSON.stringify(value) + \" to a number\");\r\n        }\r\n        else {\r\n            return number;\r\n        }\r\n    }\r\n    else if (typeof value === \"number\") {\r\n        if (isNaN(value)) {\r\n            throw new Error(\"Expected a number but got NaN\");\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n    else {\r\n        var t = getType(value);\r\n        if (t === \"[object Date]\") {\r\n            return value.getTime();\r\n        }\r\n        else {\r\n            throw new Error(\"Expected a string, number, or date but got \" + t);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Casts number, string or Date into a Date object.\r\n *\r\n * @param value  Input value\r\n * @return Date object\r\n * @deprecated Not used anywhere\r\n * @throws {Error}\r\n * @hidden\r\n * @deprecated\r\n */\r\n/*export function castDate(value: string | number | Date, formatter?: DateFormatter): Date {\r\n    if (typeof value === \"string\") {\r\n        if (formatter) {\r\n            return formatter.parse(value);\r\n        }\r\n        return new Date(value);\r\n\r\n    } else if (typeof value === \"number\") {\r\n        return new Date(value);\r\n\r\n    } else {\r\n        const t = getType(value);\r\n\r\n        if (t === \"[object Date]\") {\r\n            return value;\r\n\r\n        } else {\r\n            throw new Error(\"Expected a string, number, or date but got \" + t);\r\n        }\r\n    }\r\n}*/\r\n/**\r\n * ============================================================================\r\n * QUICK CONVERSION\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Converts any value into `boolean`.\r\n *\r\n * @param value  Source value\r\n * @return `true` or `false`\r\n */\r\nexport function toBoolean(value) {\r\n    return value ? true : false;\r\n}\r\n/**\r\n * Converts any value into a `number`.\r\n *\r\n * @param value  Source value\r\n * @return Number representation of value\r\n */\r\nexport function toNumber(value) {\r\n    if (hasValue(value) && !isNumber(value)) {\r\n        var converted = Number(value);\r\n        if (isNaN(converted) && isString(value) && value != \"\") {\r\n            return toNumber(value.replace(/[^0-9.\\-]+/g, ''));\r\n        }\r\n        return converted;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts any value into a string (text).\r\n *\r\n * @param value  Source value\r\n * @return String representation of the input\r\n */\r\nexport function toText(value) {\r\n    if (hasValue(value) && !isString(value)) {\r\n        if (isNumber(value)) {\r\n            return castString(value);\r\n        }\r\n        else if (isObject(value)) {\r\n            return value.toString();\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Converts any value to a number or [[Percent]].\r\n *\r\n * If the parameter is a string and contains \"%\", it will\r\n * convert it into a [[Percent]].\r\n *\r\n * Otherwise, it will convert into a number.\r\n *\r\n * @param value  Number or percent\r\n * @return Percent object\r\n */\r\nexport function toNumberOrPercent(value) {\r\n    if (!hasValue(value) || isNumber(value) || isPercent(value)) {\r\n        return value;\r\n    }\r\n    if (isString(value) && value.indexOf(\"%\") != -1) {\r\n        return percent(toNumber(value));\r\n    }\r\n    return toNumber(value);\r\n}\r\n/**\r\n * Checks if a variable has a value.\r\n *\r\n * @param a  Input value\r\n * @returns                        Has value?\r\n */\r\nexport function hasValue(a) {\r\n    return a != null;\r\n}\r\n/**\r\n * Returns a value or throws an {Error} exception if the variable has not\r\n * value.\r\n *\r\n * @param a  Input value\r\n * @returns                        Value\r\n */\r\nexport function getValue(a) {\r\n    if (hasValue(a)) {\r\n        return a;\r\n    }\r\n    else {\r\n        throw new Error(\"Value doesn't exist\");\r\n    }\r\n}\r\n/**\r\n * Returns a value, or returns the default value if it doesn't have a value.\r\n *\r\n * @param a  Input value\r\n * @returns                        Value\r\n */\r\nexport function getValueDefault(a, defaultValue) {\r\n    if (hasValue(a)) {\r\n        return a;\r\n    }\r\n    else {\r\n        return defaultValue;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * TYPE CHECK\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Checks if parameter is `Date`.\r\n *\r\n * @param value  Input value\r\n * @return Is Date?\r\n */\r\nexport function isDate(value) {\r\n    return getType(value) === \"[object Date]\";\r\n}\r\n/**\r\n * Checks if parameter is `string`.\r\n *\r\n * @param value  Input value\r\n * @return Is string?\r\n */\r\nexport function isString(value) {\r\n    return typeof value === \"string\";\r\n}\r\n/**\r\n * Checks if parameter is `number`.\r\n *\r\n * @param value  Input value\r\n * @return Is number?\r\n */\r\nexport function isNumber(value) {\r\n    return typeof value === \"number\" && Number(value) == value;\r\n}\r\n/**\r\n * Checks if parameter is `object`.\r\n *\r\n * @param value  Input value\r\n * @return Is object?\r\n */\r\nexport function isObject(value) {\r\n    return typeof value === \"object\" && value != null;\r\n}\r\n/**\r\n * Checks if parameter is `Array`.\r\n *\r\n * @param value  Input value\r\n * @return Is Array?\r\n */\r\nexport function isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n//# sourceMappingURL=Type.js.map","import { EventDispatcher } from \"./utils/EventDispatcher\";\r\nimport { Dictionary } from \"./utils/Dictionary\";\r\nimport { cache } from \"./utils/Cache\";\r\nimport * as $type from \"./utils/Type\";\r\nimport * as $string from \"./utils/String\";\r\nimport * as $array from \"./utils/Array\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Registry is used to store miscellaneous system-wide information, like ids,\r\n * maps, themes, and registered classes.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar Registry = /** @class */ (function () {\r\n    function Registry() {\r\n        /**\r\n         * Event dispacther.\r\n         */\r\n        this.events = new EventDispatcher();\r\n        /**\r\n         * All currently applied themes. All new chart instances created will\r\n         * automatically inherit and retain System's themes.\r\n         */\r\n        this.themes = [];\r\n        /**\r\n         * List of all loaded available themes.\r\n         *\r\n         * Whenever a theme loads, it registers itself in System's `loadedThemes`\r\n         * collection.\r\n         */\r\n        this.loadedThemes = {};\r\n        /**\r\n         * An indeternal counter used to generate unique IDs.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this._uidCount = 0;\r\n        /**\r\n         * Keeps register of class references so that they can be instnatiated using\r\n         * string key.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.registeredClasses = {};\r\n        /**\r\n         * Holds all generated placeholders.\r\n         */\r\n        this._placeholders = {};\r\n        /**\r\n         * A list of invalid(ated) [[Sprite]] objects that need to be re-validated\r\n         * during next cycle.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidSprites = {};\r\n        /**\r\n         * Components are added to this list when their data provider changes to\r\n         * a new one or data is added/removed from their data provider.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidDatas = {};\r\n        /**\r\n         * Components are added to this list when values of their raw data change.\r\n         * Used when we want a smooth animation from one set of values to another.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidRawDatas = [];\r\n        /**\r\n         * Components are added to this list when values of their data changes\r\n         * (but not data provider itself).\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidDataItems = [];\r\n        /**\r\n         * Components are added to this list when their data range (selection) is\r\n         * changed, e.g. zoomed.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidDataRange = [];\r\n        /**\r\n         * A list of [[Sprite]] objects that have invalid(ated) positions, that need\r\n         * to be recalculated.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidPositions = {};\r\n        /**\r\n         * A list of [[Container]] objects with invalid(ated) layouts.\r\n         *\r\n         * @ignore Exclude from docs\r\n         */\r\n        this.invalidLayouts = {};\r\n        /**\r\n         * An array holding all active (non-disposed) top level elemens.\r\n         *\r\n         * When, for example, a new chart is created, its instance will be added to\r\n         * this array, and will be removed when the chart is disposed.\r\n         */\r\n        this.baseSprites = [];\r\n        this.baseSpritesByUid = {};\r\n        this.queue = [];\r\n        this.uid = this.getUniqueId();\r\n        this.invalidSprites.noBase = [];\r\n        this.invalidDatas.noBase = [];\r\n        this.invalidLayouts.noBase = [];\r\n        this.invalidPositions.noBase = [];\r\n    }\r\n    /**\r\n     * Generates a unique chart system-wide ID.\r\n     *\r\n     * @return Generated ID\r\n     */\r\n    Registry.prototype.getUniqueId = function () {\r\n        var uid = this._uidCount;\r\n        this._uidCount += 1;\r\n        return \"id-\" + uid;\r\n    };\r\n    Object.defineProperty(Registry.prototype, \"map\", {\r\n        /**\r\n         * Returns a universal collection for mapping ids with objects.\r\n         *\r\n         * @ignore Exclude from docs\r\n         * @return Map collection\r\n         */\r\n        get: function () {\r\n            if (!this._map) {\r\n                this._map = new Dictionary();\r\n            }\r\n            return this._map;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Caches value in object's cache.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key    Key\r\n     * @param value  Value\r\n     * @param ttl    TTL in seconds\r\n     */\r\n    Registry.prototype.setCache = function (key, value, ttl) {\r\n        cache.set(this.uid, key, value, ttl);\r\n    };\r\n    /**\r\n     * Retrieves cached value.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key    Key\r\n     * @param value  Value to return if cache is not available\r\n     * @return Value\r\n     */\r\n    Registry.prototype.getCache = function (key, value) {\r\n        if (value === void 0) { value = undefined; }\r\n        return cache.get(this.uid, key, value);\r\n    };\r\n    /**\r\n     * Dispatches an event using own event dispatcher. Will automatically\r\n     * populate event data object with event type and target (this element).\r\n     * It also checks if there are any handlers registered for this sepecific\r\n     * event.\r\n     *\r\n     * @param eventType Event type (name)\r\n     * @param data      Data to pass into event handler(s)\r\n     */\r\n    Registry.prototype.dispatch = function (eventType, data) {\r\n        // @todo Implement proper type check\r\n        if (this.events.isEnabled(eventType)) {\r\n            if (data) {\r\n                data.type = eventType;\r\n                data.target = data.target || this;\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this\r\n                });\r\n            }\r\n            else {\r\n                this.events.dispatch(eventType, {\r\n                    type: eventType,\r\n                    target: this\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Works like `dispatch`, except event is triggered immediately, without\r\n     * waiting for the next frame cycle.\r\n     *\r\n     * @param eventType Event type (name)\r\n     * @param data      Data to pass into event handler(s)\r\n     */\r\n    Registry.prototype.dispatchImmediately = function (eventType, data) {\r\n        // @todo Implement proper type check\r\n        if (this.events.isEnabled(eventType)) {\r\n            if (data) {\r\n                data.type = eventType;\r\n                data.target = data.target || this;\r\n                this.events.dispatchImmediately(eventType, data);\r\n            }\r\n            else {\r\n                this.events.dispatchImmediately(eventType, {\r\n                    type: eventType,\r\n                    target: this\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns a unique placeholder suitable for the key.\r\n     *\r\n     * @param key  Key\r\n     * @return Random string to be used as placeholder\r\n     */\r\n    Registry.prototype.getPlaceholder = function (key) {\r\n        if ($type.hasValue(this._placeholders[key])) {\r\n            return this._placeholders[key];\r\n        }\r\n        this._placeholders[key] = \"__amcharts_\" + key + \"_\" + $string.random(8) + \"__\";\r\n        return this._placeholders[key];\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.addToInvalidComponents = function (component) {\r\n        if (component.baseId) {\r\n            $array.move(this.invalidDatas[component.baseId], component);\r\n        }\r\n        else {\r\n            $array.move(this.invalidDatas[\"noBase\"], component);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.removeFromInvalidComponents = function (component) {\r\n        if (component.baseId) {\r\n            $array.remove(this.invalidDatas[component.baseId], component);\r\n        }\r\n        $array.remove(this.invalidDatas[\"noBase\"], component);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.addToInvalidSprites = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.add(this.invalidSprites[sprite.baseId], sprite);\r\n        }\r\n        else {\r\n            $array.add(this.invalidSprites[\"noBase\"], sprite);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.removeFromInvalidSprites = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.remove(this.invalidSprites[sprite.baseId], sprite);\r\n        }\r\n        $array.remove(this.invalidSprites[\"noBase\"], sprite);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.addToInvalidPositions = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.add(this.invalidPositions[sprite.baseId], sprite);\r\n        }\r\n        else {\r\n            $array.add(this.invalidPositions[\"noBase\"], sprite);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.removeFromInvalidPositions = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.remove(this.invalidPositions[sprite.baseId], sprite);\r\n        }\r\n        $array.remove(this.invalidPositions[\"noBase\"], sprite);\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.addToInvalidLayouts = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.add(this.invalidLayouts[sprite.baseId], sprite);\r\n        }\r\n        else {\r\n            $array.add(this.invalidLayouts[\"noBase\"], sprite);\r\n        }\r\n    };\r\n    /**\r\n     * @ignore\r\n     */\r\n    Registry.prototype.removeFromInvalidLayouts = function (sprite) {\r\n        if (sprite.baseId) {\r\n            $array.remove(this.invalidLayouts[sprite.baseId], sprite);\r\n        }\r\n        $array.remove(this.invalidLayouts[\"noBase\"], sprite);\r\n    };\r\n    return Registry;\r\n}());\r\nexport { Registry };\r\n/**\r\n * A singleton global instance of [[Registry]].\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var registry = new Registry();\r\n/**\r\n * Returns `true` if object is an instance of the class. It's the same as `instanceof` except it doesn't need to import the class.\r\n *\r\n * @param object Object\r\n * @param name Class name\r\n * @return Is instance of class\r\n */\r\nexport function is(object, name) {\r\n    var x = registry.registeredClasses[name];\r\n    return x != null && object instanceof x;\r\n}\r\n//# sourceMappingURL=Registry.js.map","/**\r\n * A collection of Math-related functions\r\n *\r\n * @todo Comment trigonometric functions?\r\n */\r\nimport * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * CONSTANTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nexport var PI = Math.PI;\r\nexport var HALFPI = PI / 2;\r\nexport var RADIANS = PI / 180;\r\nexport var DEGREES = 180 / PI;\r\n/**\r\n * Converts any value and fits it into a specific value range.\r\n *\r\n * @param value  Source value\r\n * @param min    Minimum allowable value\r\n * @param max    Maximum allowable value\r\n * @return Number\r\n */\r\nexport function toNumberRange(value, min, max) {\r\n    if ($type.hasValue(value)) {\r\n        value = $type.toNumber(value);\r\n        return fitToRange(value, min, max);\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Rounds the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @param floor  In case value ends with 0.5 and precision is 0, we might need to floor the value instead of ceiling it.\r\n * @return Rounded value\r\n */\r\nexport function round(value, precision, floor) {\r\n    if (!$type.isNumber(precision) || precision <= 0) {\r\n        var rounded = Math.round(value);\r\n        if (floor) {\r\n            if (rounded - value == 0.5) {\r\n                rounded--;\r\n            }\r\n        }\r\n        return rounded;\r\n    }\r\n    else {\r\n        var d = Math.pow(10, precision);\r\n        return Math.round(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Ceils the numeric value to whole number or specific precision of set.\r\n *\r\n * @param value      Value\r\n * @param precision  Precision (number of decimal points)\r\n * @return Rounded value\r\n */\r\nexport function ceil(value, precision) {\r\n    if (!$type.isNumber(precision) || precision <= 0) {\r\n        return Math.ceil(value);\r\n    }\r\n    else {\r\n        var d = Math.pow(10, precision);\r\n        return Math.ceil(value * d) / d;\r\n    }\r\n}\r\n/**\r\n * Stretches `t` so that it will always be between `from` and `to`.\r\n *\r\n * @param t     Number from 0 to 1\r\n * @param from  Lowest possible value\r\n * @param to    Highest possible value\r\n * @return Adjusted value\r\n */\r\nexport function stretch(t, from, to) {\r\n    return (t * (to - from)) + from;\r\n}\r\n/**\r\n * Adjust numeric value so it fits to specific value range.\r\n *\r\n * @param value     Value\r\n * @param minValue  Lowest possible value\r\n * @param maxValue  Highest possible value\r\n * @return Adjusted value\r\n */\r\nexport function fitToRange(value, minValue, maxValue) {\r\n    if ($type.isNumber(minValue)) {\r\n        if ($type.isNumber(maxValue) && maxValue < minValue) {\r\n            var temp = maxValue;\r\n            maxValue = minValue;\r\n            minValue = temp;\r\n        }\r\n        if (value < minValue) {\r\n            value = minValue;\r\n        }\r\n    }\r\n    if ($type.isNumber(maxValue)) {\r\n        if (value > maxValue) {\r\n            value = maxValue;\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Returns sine of a number.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function sin(value) {\r\n    return round(Math.sin(RADIANS * value), 10);\r\n}\r\n/**\r\n * Returns tan of a number.\r\n *\r\n * @param value  Value\r\n * @return Sine\r\n */\r\nexport function tan(value) {\r\n    return round(Math.tan(RADIANS * value), 10);\r\n}\r\n/**\r\n * Returns cosine of a number.\r\n *\r\n * @param value  Value\r\n * @return Cosine\r\n */\r\nexport function cos(value) {\r\n    return round(Math.cos(RADIANS * value), 10);\r\n}\r\nexport function max(left, right) {\r\n    if ($type.isNumber(left)) {\r\n        if ($type.isNumber(right)) {\r\n            if (right > left) {\r\n                return right;\r\n            }\r\n            else {\r\n                return left;\r\n            }\r\n        }\r\n        else {\r\n            return left;\r\n        }\r\n    }\r\n    else if ($type.isNumber(right)) {\r\n        return right;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\nexport function min(left, right) {\r\n    if ($type.isNumber(left)) {\r\n        if ($type.isNumber(right)) {\r\n            if (right < left) {\r\n                return right;\r\n            }\r\n            else {\r\n                return left;\r\n            }\r\n        }\r\n        else {\r\n            return left;\r\n        }\r\n    }\r\n    else if ($type.isNumber(right)) {\r\n        return right;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n/**\r\n * Returns the closest value from the array of values to the reference value.\r\n *\r\n * @param values  Array of values\r\n * @param value   Reference value\r\n * @return Closes value from the array\r\n */\r\nexport function closest(values, referenceValue) {\r\n    return values.reduce(function (prev, curr) {\r\n        return (Math.abs(curr - referenceValue) < Math.abs(prev - referenceValue) ? curr : prev);\r\n    });\r\n}\r\n/**\r\n * Checks whether two ranges of values intersect.\r\n *\r\n * @param range1  Range 1\r\n * @param range2  Range 2\r\n * @return Any intersecting numbers?\r\n */\r\nexport function intersect(range1, range2) {\r\n    var start1 = $type.getValue(range1.start);\r\n    var start2 = $type.getValue(range2.start);\r\n    var end1 = $type.getValue(range1.end);\r\n    var end2 = $type.getValue(range2.end);\r\n    return Math.max(start1, start2) <= Math.min(end1, end2);\r\n}\r\n/**\r\n * Inverts the range of values.\r\n *\r\n * @param range  Range\r\n */\r\nexport function invertRange(range) {\r\n    var start = $type.getValue(range.start);\r\n    var end = $type.getValue(range.end);\r\n    return { start: 1 - end, end: 1 - start };\r\n}\r\n/**\r\n * Returns an intersection range between two ranges of values.\r\n *\r\n * @param range1  Range 1\r\n * @param range2  Range 2\r\n * @return Intersecting value range\r\n */\r\nexport function intersection(range1, range2) {\r\n    var start1 = $type.getValue(range1.start);\r\n    var start2 = $type.getValue(range2.start);\r\n    var end1 = $type.getValue(range1.end);\r\n    var end2 = $type.getValue(range2.end);\r\n    var startMax = Math.max(start1, start2);\r\n    var endMin = Math.min(end1, end2);\r\n    if (endMin < startMax) {\r\n        return undefined;\r\n    }\r\n    else {\r\n        return { start: startMax, end: endMin };\r\n    }\r\n}\r\n/**\r\n * Returns pixel \"distance\" between two points.\r\n *\r\n * If second point is not specified, distance from {x:0, y:0} point is\r\n * calculated.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @return Distance in relative pixels\r\n */\r\nexport function getDistance(point1, point2) {\r\n    if (!point1) {\r\n        return 0;\r\n    }\r\n    if (!point2) {\r\n        point2 = { x: 0, y: 0 };\r\n    }\r\n    return Math.sqrt(Math.pow(Math.abs(point1.x - point2.x), 2) + Math.pow(Math.abs(point1.y - point2.y), 2));\r\n}\r\n/**\r\n * Returns pixel \"horizontal distance\" between two points.\r\n *\r\n * If second point is not specified, distance from {x:0, y:0} point is\r\n * calculated.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @return Distance in relative pixels\r\n */\r\nexport function getHorizontalDistance(point1, point2) {\r\n    if (!point1) {\r\n        return 0;\r\n    }\r\n    if (!point2) {\r\n        point2 = { x: 0, y: 0 };\r\n    }\r\n    return Math.abs(point1.x - point2.x);\r\n}\r\n/**\r\n * Returns pixel \"vertical distance\" between two points.\r\n *\r\n * If second point is not specified, distance from {x:0, y:0} point is\r\n * calculated.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @return Distance in relative pixels\r\n */\r\nexport function getVerticalDistance(point1, point2) {\r\n    if (!point1) {\r\n        return 0;\r\n    }\r\n    if (!point2) {\r\n        point2 = { x: 0, y: 0 };\r\n    }\r\n    return Math.abs(point1.y - point2.y);\r\n}\r\n/**\r\n * Returns approximate pixel \"distance\" between two points of cubic curve\r\n *\r\n * If second point is not specified, distance from {x:0, y:0} point is\r\n * calculated.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @param controlPointA  Control Point 1\r\n * @param controlPointB  Control Point 2\r\n * @param stepCount  number of steps (the more, the more accurate result)\r\n * @return Distance in relative pixels\r\n */\r\nexport function getCubicCurveDistance(point1, point2, controlPointA, controlPointB, stepCount) {\r\n    if (!point1) {\r\n        return 0;\r\n    }\r\n    if (!point2) {\r\n        point2 = { x: 0, y: 0 };\r\n    }\r\n    var distance = 0;\r\n    var prevPoint = point1;\r\n    if (stepCount > 0) {\r\n        for (var s = 0; s <= stepCount; s++) {\r\n            var point = getPointOnCubicCurve(point1, point2, controlPointA, controlPointB, s / stepCount);\r\n            distance += getDistance(prevPoint, point);\r\n            prevPoint = point;\r\n        }\r\n    }\r\n    return distance;\r\n}\r\n/**\r\n * Returns scale based on original and end position of the two points.\r\n *\r\n * @param point1       Current position of point 1\r\n * @param startPoint1  Start position of point 1\r\n * @param point2       Current position of point 1\r\n * @param startPoint2  Start position of point 2\r\n * @return Scale        Calculated scale\r\n */\r\nexport function getScale(point1, startPoint1, point2, startPoint2) {\r\n    var initialDistance = getDistance(startPoint1, startPoint2);\r\n    var currentDistance = getDistance(point1, point2);\r\n    return Math.abs(currentDistance / initialDistance);\r\n}\r\n/**\r\n * Returns an exact mid point between two points.\r\n *\r\n * @param point1     Position of point 1\r\n * @param point2     Position of point 2\r\n * @return Mid point  Position of mid-point\r\n */\r\nexport function getMidPoint(point1, point2, position) {\r\n    if (!$type.isNumber(position)) {\r\n        position = 0.5;\r\n    }\r\n    return {\r\n        \"x\": (point1.x + (point2.x - point1.x) * position),\r\n        \"y\": (point1.y + (point2.y - point1.y) * position)\r\n    };\r\n}\r\n/**\r\n * Returns difference in angles between starting and ending position of two\r\n * vectors.\r\n *\r\n * @param point1       Current position of point 1\r\n * @param startPoint1  Start position of point 1\r\n * @param point2       Current position of point 1\r\n * @param startPoint2  Start position of point 2\r\n * @return Angle difference in degrees\r\n */\r\nexport function getRotation(point1, startPoint1, point2, startPoint2) {\r\n    // Get start and end angles\r\n    var startAngle = getAngle(startPoint1, startPoint2);\r\n    var angle = getAngle(point1, point2);\r\n    // Calculate angle\r\n    var diff = startAngle - angle;\r\n    if (diff < 0) {\r\n        diff += 360;\r\n    }\r\n    return diff;\r\n}\r\n/**\r\n * Calculates angle of the vector based on two or one point.\r\n *\r\n * @param point1  Point 1\r\n * @param point2  Point 2\r\n * @return Angle in degrees\r\n */\r\nexport function getAngle(point1, point2) {\r\n    if (!point2) {\r\n        point2 = { x: point1.x * 2, y: point1.y * 2 };\r\n    }\r\n    var diffX = point2.x - point1.x;\r\n    var diffY = point2.y - point1.y;\r\n    var angle = Math.atan2(diffY, diffX) * DEGREES;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    return normalizeAngle(angle);\r\n}\r\n/**\r\n * Returns the shift in coordinates of the center when item is rotated, moved\r\n * and scaled at the same time.\r\n *\r\n * @param center       Current center\r\n * @param point1       Frst reference point\r\n * @param startPoint1  Original position of the first reference point\r\n * @param point2       Second reference point\r\n * @param startPoint2  Original position of the first reference point\r\n * @return Shift in center point coordinates\r\n */\r\nexport function getCenterShift(center, point1, startPoint1, point2, startPoint2) {\r\n    // Get angle\r\n    var angle = getRotation(point1, startPoint1, point2, startPoint2) - 90;\r\n    if (angle < 0) {\r\n        angle += 360;\r\n    }\r\n    // Get distance between new position\r\n    var distance = getDistance(point1, point2);\r\n    // Calculate new X\r\n    var x = Math.cos(angle) / distance + point1.x;\r\n    var y = Math.cos(angle) / distance + point1.y;\r\n    var shift = {\r\n        \"x\": x - center.x,\r\n        \"y\": y - center.y\r\n    };\r\n    return shift;\r\n}\r\n/**\r\n * Converts an array of points into a bounding box rectangle.\r\n *\r\n * Array can contain any number of points.\r\n *\r\n * @param points  Points\r\n * @return Bounding box rectangle\r\n */\r\nexport function getBBox(points) {\r\n    if (points) {\r\n        var length_1 = points.length;\r\n        if (length_1 !== 0) {\r\n            var left = void 0;\r\n            var right = void 0;\r\n            var top_1;\r\n            var bottom = void 0;\r\n            for (var i = 0; i < length_1; i++) {\r\n                var point = points[i];\r\n                if (!$type.isNumber(right) || (point.x > right)) {\r\n                    right = point.x;\r\n                }\r\n                if (!$type.isNumber(left) || (point.x < left)) {\r\n                    left = point.x;\r\n                }\r\n                if (!$type.isNumber(top_1) || (point.y < top_1)) {\r\n                    top_1 = point.y;\r\n                }\r\n                if (!$type.isNumber(bottom) || (point.y > bottom)) {\r\n                    bottom = point.y;\r\n                }\r\n            }\r\n            return { x: left, y: top_1, width: right - left, height: bottom - top_1 };\r\n        }\r\n    }\r\n    return { x: 0, y: 0, width: 0, height: 0 };\r\n}\r\n/**\r\n * Returns a [[IRectangle]] object representing a common rectangle that fits\r\n * all passed in rectangles in it.\r\n *\r\n * @param rectangles  An array of rectangles\r\n * @return Common rectangle\r\n */\r\nexport function getCommonRectangle(rectangles) {\r\n    var length = rectangles.length;\r\n    if (length !== 0) {\r\n        var minX = void 0;\r\n        var minY = void 0;\r\n        var maxX = void 0;\r\n        var maxY = void 0;\r\n        for (var i = 0; i < length; i++) {\r\n            var rectangle = rectangles[i];\r\n            minX = min(rectangle.x, minX);\r\n            minY = min(rectangle.y, minY);\r\n            maxX = max(rectangle.x + rectangle.width, maxX);\r\n            maxY = max(rectangle.y + rectangle.height, maxY);\r\n        }\r\n        return { x: minX, y: minY, width: maxX - minX, height: maxY - minY };\r\n    }\r\n}\r\n/**\r\n * [getPointOnQuadraticCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA        [description]\r\n * @param pointB        [description]\r\n * @param controlPoint  [description]\r\n * @param position      [description]\r\n * @return [description]\r\n */\r\nexport function getPointOnQuadraticCurve(pointA, pointB, controlPoint, position) {\r\n    var x = (1 - position) * (1 - position) * pointA.x + 2 * (1 - position) * position * controlPoint.x + position * position * pointB.x;\r\n    var y = (1 - position) * (1 - position) * pointA.y + 2 * (1 - position) * position * controlPoint.y + position * position * pointB.y;\r\n    return { x: x, y: y };\r\n}\r\n/**\r\n * [getPointOnCubicCurve description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param pointA         [description]\r\n * @param pointB         [description]\r\n * @param controlPointA  [description]\r\n * @param controlPointB  [description]\r\n * @param position       [description]\r\n * @return [description]\r\n */\r\nexport function getPointOnCubicCurve(pointA, pointB, controlPointA, controlPointB, position) {\r\n    var point = { x: 0, y: 0 };\r\n    var mt1 = 1 - position;\r\n    var mt2 = mt1 * mt1;\r\n    var mt3 = mt2 * mt1;\r\n    point.x = pointA.x * mt3 + controlPointA.x * 3 * mt2 * position + controlPointB.x * 3 * mt1 * position * position + pointB.x * position * position * position;\r\n    point.y = pointA.y * mt3 + controlPointA.y * 3 * mt2 * position + controlPointB.y * 3 * mt1 * position * position + pointB.y * position * position * position;\r\n    return point;\r\n}\r\n/**\r\n * [getCubicControlPointA description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointA(p0, p1, p2, p3, tensionX, tensionY) {\r\n    tensionX = adjustTension(tensionX);\r\n    tensionY = adjustTension(tensionY);\r\n    return { x: ((-p0.x + p1.x / tensionX + p2.x) * tensionX), y: ((-p0.y + p1.y / tensionY + p2.y) * tensionY) };\r\n}\r\n/**\r\n * [getCubicControlPointB description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param p0        [description]\r\n * @param p1        [description]\r\n * @param p2        [description]\r\n * @param p3        [description]\r\n * @param tensionX  [description]\r\n * @param tensionY  [description]\r\n * @return [description]\r\n */\r\nexport function getCubicControlPointB(p0, p1, p2, p3, tensionX, tensionY) {\r\n    tensionX = adjustTension(tensionX);\r\n    tensionY = adjustTension(tensionY);\r\n    return { x: ((p1.x + p2.x / tensionX - p3.x) * tensionX), y: ((p1.y + p2.y / tensionY - p3.y) * tensionY) };\r\n}\r\n/**\r\n * [adjustTension description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param tension  [description]\r\n * @return [description]\r\n */\r\nexport function adjustTension(tension) {\r\n    return 1 - tension + 0.00001;\r\n}\r\n/**\r\n * [normalizeAngle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param value  [description]\r\n * @return [description]\r\n */\r\nexport function normalizeAngle(value) {\r\n    if (value == 360) {\r\n        return 360;\r\n    }\r\n    return value % 360;\r\n}\r\n/**\r\n * [normalizeAngleToRange description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @todo review this with various angles, can be tested on radar chart with custom start/end angles\r\n * @param value       [description]\r\n * @param startAngle  [description]\r\n * @param endAngle    [description]\r\n * @return [description]\r\n */\r\nexport function fitAngleToRange(value, startAngle, endAngle) {\r\n    if (startAngle > endAngle) {\r\n        var temp = startAngle;\r\n        startAngle = endAngle;\r\n        endAngle = temp;\r\n    }\r\n    value = normalizeAngle(value);\r\n    var count = (startAngle - normalizeAngle(startAngle)) / 360;\r\n    if (value < startAngle) {\r\n        value += 360 * (count + 1);\r\n    }\r\n    var maxEnd = startAngle + (endAngle - startAngle) / 2 + 180;\r\n    var maxStart = startAngle + (endAngle - startAngle) / 2 - 180;\r\n    if (value > endAngle) {\r\n        if (value - 360 > startAngle) {\r\n            value -= 360;\r\n        }\r\n        else {\r\n            if (value < maxEnd) {\r\n                value = endAngle;\r\n            }\r\n            else {\r\n                value = startAngle;\r\n            }\r\n        }\r\n    }\r\n    if (value < startAngle) {\r\n        if (value > maxStart) {\r\n            value = startAngle;\r\n        }\r\n        else {\r\n            value = endAngle;\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Returns [[IRectangle]] of an arc in relative values, assuming that the\r\n * center is at the circle center.\r\n *\r\n * Used to find out max radius of an arc.\r\n *\r\n * @ignore Exclude from docs\r\n * @param startAngle  Start angle\r\n * @param endAngle    End angle\r\n * @param radius    \t Relative radius\r\n * @return Rectangle\r\n */\r\nexport function getArcRect(startAngle, endAngle, radius) {\r\n    var minX = Number.MAX_VALUE;\r\n    var minY = Number.MAX_VALUE;\r\n    var maxX = -Number.MAX_VALUE;\r\n    var maxY = -Number.MAX_VALUE;\r\n    var bpoints = [];\r\n    if (!$type.isNumber(radius)) {\r\n        radius = 1;\r\n    }\r\n    bpoints.push(getArcPoint(radius, startAngle));\r\n    bpoints.push(getArcPoint(radius, endAngle));\r\n    var fromAngle = Math.min(Math.floor(startAngle / 90) * 90, Math.floor(endAngle / 90) * 90);\r\n    var toAngle = Math.max(Math.ceil(startAngle / 90) * 90, Math.ceil(endAngle / 90) * 90);\r\n    for (var angle = fromAngle; angle <= toAngle; angle += 90) {\r\n        if (angle >= startAngle && angle <= endAngle) {\r\n            bpoints.push(getArcPoint(radius, angle));\r\n        }\r\n    }\r\n    for (var i = 0; i < bpoints.length; i++) {\r\n        var pt = bpoints[i];\r\n        if (pt.x < minX) {\r\n            minX = pt.x;\r\n        }\r\n        if (pt.y < minY) {\r\n            minY = pt.y;\r\n        }\r\n        if (pt.x > maxX) {\r\n            maxX = pt.x;\r\n        }\r\n        if (pt.y > maxY) {\r\n            maxY = pt.y;\r\n        }\r\n    }\r\n    return ({ x: minX, y: minY, width: maxX - minX, height: maxY - minY });\r\n}\r\n/**\r\n * Returns point on arc\r\n *\r\n * @param center point\r\n * @param radius\r\n * @param arc\r\n * @return {boolean}\r\n */\r\nexport function getArcPoint(radius, arc) {\r\n    return ({ x: radius * cos(arc), y: radius * sin(arc) });\r\n}\r\n/**\r\n * Returns true if a point is within rectangle\r\n *\r\n * @param point\r\n * @param rectangle\r\n * @return {boolean}\r\n */\r\nexport function isInRectangle(point, rectangle) {\r\n    if (point.x >= rectangle.x && point.x <= rectangle.x + rectangle.width && point.y > rectangle.y && point.y < rectangle.y + rectangle.height) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function getLineIntersection(pointA1, pointA2, pointB1, pointB2) {\r\n    var x = ((pointA1.x * pointA2.y - pointA2.x * pointA1.y) * (pointB1.x - pointB2.x) - (pointA1.x - pointA2.x) * (pointB1.x * pointB2.y - pointB1.y * pointB2.x)) / ((pointA1.x - pointA2.x) * (pointB1.y - pointB2.y) - (pointA1.y - pointA2.y) * (pointB1.x - pointB2.x));\r\n    var y = ((pointA1.x * pointA2.y - pointA2.x * pointA1.y) * (pointB1.y - pointB2.y) - (pointA1.y - pointA2.y) * (pointB1.x * pointB2.y - pointB1.y * pointB2.x)) / ((pointA1.x - pointA2.x) * (pointB1.y - pointB2.y) - (pointA1.y - pointA2.y) * (pointB1.x - pointB2.x));\r\n    return { x: x, y: y };\r\n}\r\n//# sourceMappingURL=Math.js.map","import * as $math from \"./Math\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Searches `array` for `value`.\r\n *\r\n * Returns -1 if not found.\r\n *\r\n * @param array  Source array\r\n * @param value  Value to search\r\n * @returns Index\r\n */\r\nexport function indexOf(array, value) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        // TODO handle NaN\r\n        if (array[i] === value) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Calls `test` for each element in `array`.\r\n *\r\n * If `test` returns `true` then it immediately returns `true`.\r\n *\r\n * If `test` returns `false` for all of the elements in `array` then it returns `false`.\r\n *\r\n * @param array  Source array\r\n * @param test   Function which is called on each element\r\n * @returns Whether `test` returned true or not\r\n */\r\nexport function any(array, test) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (test(array[i])) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Calls `fn` function for every member of array and returns a new array out\r\n * of all outputs.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n * @returns New array\r\n */\r\nexport function map(array, fn) {\r\n    var length = array.length;\r\n    var output = new Array(length);\r\n    for (var i = 0; i < length; ++i) {\r\n        output[i] = fn(array[i], i);\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function each(array, fn) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array in reverse order and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachReverse(array, fn) {\r\n    var i = array.length;\r\n    while (i--) {\r\n        fn(array[i], i);\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * If `fn` call evaluates to `false`, further iteration is cancelled.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function eachContinue(array, fn) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (!fn(array[i], i)) {\r\n            break;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Shifts an item at `index` towards beginning of the array.\r\n *\r\n * @param array  Source array\r\n * @param index  Target element index\r\n */\r\nexport function shiftLeft(array, index) {\r\n    var length = array.length;\r\n    for (var i = index; i < length; ++i) {\r\n        array[i - index] = array[i];\r\n    }\r\n    array.length = length - index;\r\n}\r\n/**\r\n * Returns the last item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function last(array) {\r\n    var length = array.length;\r\n    return length ? array[length - 1] : undefined;\r\n}\r\n/**\r\n * Returns the first item of the array.\r\n *\r\n * @param array  Source array\r\n * @returns Last item\r\n */\r\nexport function first(array) {\r\n    return array[0];\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * Caps `index` to be between `0` and `array.length`\r\n *\r\n * @param array    Source array\r\n * @param element  Item to insert\r\n * @param array    Index to insert item at\r\n */\r\nexport function insert(array, element, index) {\r\n    //if (array) {\r\n    index = $math.fitToRange(index, 0, array.length);\r\n    array.splice(index, 0, element);\r\n    //}\r\n}\r\n/**\r\n * Removes all copies of `element` from `array` (if they exist) and then\r\n * inserts `element` at `index`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item\r\n * @param array    Index to move item to\r\n */\r\nexport function setIndex(array, element, index) {\r\n    remove(array, element);\r\n    insert(array, element, index);\r\n}\r\n/**\r\n * Pushes all of the elements from `input` into `array`.\r\n *\r\n * @param array  Output array\r\n * @param input  Input array\r\n */\r\nexport function pushAll(array, input) {\r\n    var length = input.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        array.push(input[i]);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array`.\r\n *\r\n * If there are multiple copies of `element`, they are all removed.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n */\r\nexport function remove(array, element) {\r\n    var found = false;\r\n    var index = array.indexOf(element);\r\n    if (index !== -1) {\r\n        found = true;\r\n        array.splice(index, 1);\r\n        var length_1 = array.length;\r\n        while (index < length_1) {\r\n            // TODO handle NaN\r\n            if (array[index] === element) {\r\n                array.splice(index, 1);\r\n                --length_1;\r\n            }\r\n            else {\r\n                ++index;\r\n            }\r\n        }\r\n    }\r\n    return found;\r\n}\r\n/**\r\n * Adds an `element` to `array`.\r\n *\r\n * If array already contains and item like this, it is removed before adding\r\n * it again.\r\n *\r\n * Optionally `toIndex` can be specified to add element at specific index.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to move item to\r\n */\r\nexport function move(array, element, toIndex) {\r\n    // @todo this implementation must be the same as the List.moveValue method\r\n    // @todo don't do anything if the desired index is the same as the current index\r\n    var index = indexOf(array, element);\r\n    // @todo remove all old values rather than only the first ?\r\n    if (index !== -1) {\r\n        removeIndex(array, index);\r\n    }\r\n    if (toIndex == null) {\r\n        array.push(element);\r\n    }\r\n    else {\r\n        insertIndex(array, toIndex, element);\r\n    }\r\n}\r\n/**\r\n * Inserts `element` into `array` at `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to add\r\n * @param array    Index to add item at\r\n */\r\nexport function add(array, element, index) {\r\n    // Append to the end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // Add to the beginning of array if index is 0\r\n    else if (index === 0) {\r\n        array.unshift(element);\r\n    }\r\n    // Add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Removes `element` from `array` (if it exists) and then inserts `element` at\r\n * `index`.\r\n *\r\n * If `index` is not provided, it will insert `element` at the end of `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to remove\r\n * @param array    Index to move item to\r\n */\r\nexport function replace(array, element, index) {\r\n    // check if exists\r\n    var ind = array.indexOf(element);\r\n    // remove if exists\r\n    if (ind !== -1) {\r\n        array.splice(ind, 1);\r\n    }\r\n    // add to end if index is not set\r\n    if (!$type.isNumber(index)) {\r\n        array.push(element);\r\n    }\r\n    // add to indicated place if index is set\r\n    else {\r\n        array.splice(index, 0, element);\r\n    }\r\n}\r\n/**\r\n * Wraps `input` in an array, if it isn't already an array.\r\n *\r\n * @param input  Source value\r\n * @return An array\r\n */\r\nexport function toArray(input) {\r\n    if (Array.isArray(input)) {\r\n        return input;\r\n    }\r\n    else {\r\n        return [input];\r\n    }\r\n}\r\n/**\r\n * Returns `true` if `element` exists in `array`.\r\n *\r\n * @param array    Source array\r\n * @param element  Item to search for\r\n * @returns Item in array?\r\n */\r\nexport function has(array, element) {\r\n    return indexOf(array, element) !== -1;\r\n}\r\n/**\r\n * Returns a shallow copy of `array`.\r\n *\r\n * @param array  Source array\r\n * @returns Copy of the array\r\n */\r\nexport function copy(array) {\r\n    var length = array.length;\r\n    // It's faster to create the array with a pre-defined length\r\n    var output = new Array(length);\r\n    for (var i = 0; i < length; ++i) {\r\n        // Because the array has a pre-defined length, we have to assign rather than push\r\n        // This is also faster than pushing\r\n        output[i] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns a copy of `array` which contains all the elements between `start`\r\n * and `end`. (including `start` and excluding `end`)\r\n *\r\n * If `end` is not provided, it defaults to `array.length`.\r\n *\r\n * @param array  Source array\r\n * @param start  Start index\r\n * @param end    End index\r\n * @returns Part of the array\r\n */\r\nexport function slice(array, start, end) {\r\n    if (end === void 0) { end = array.length; }\r\n    var output = new Array(end - start);\r\n    for (var i = start; i < end; ++i) {\r\n        output[i - start] = array[i];\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Inserts a value into array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n * @param value  Value to insert\r\n */\r\nexport function insertIndex(array, index, value) {\r\n    array.splice(index, 0, value);\r\n}\r\n/**\r\n * Removes a value from array at specific index.\r\n *\r\n * @param array  Source array\r\n * @param index  Index\r\n */\r\nexport function removeIndex(array, index) {\r\n    array.splice(index, 1);\r\n}\r\n/**\r\n * Orders an array using specific `ordering` function and returns index of\r\n * the `value`.\r\n *\r\n * @ignore Exclude from docs\r\n * @param array     Source array\r\n * @param ordering  An ordering function\r\n * @param value     Value to search for\r\n * @returns Result of the search\r\n */\r\nexport function getSortedIndex(array, ordering, value) {\r\n    var start = 0;\r\n    var end = array.length;\r\n    var found = false;\r\n    while (start < end) {\r\n        // TODO is this faster/slower than using Math.floor ?\r\n        var pivot = (start + end) >> 1;\r\n        var order = ordering(value, array[pivot]);\r\n        // less\r\n        if (order < 0) {\r\n            end = pivot;\r\n            // equal\r\n        }\r\n        else if (order === 0) {\r\n            found = true;\r\n            start = pivot + 1;\r\n            // more\r\n        }\r\n        else {\r\n            start = pivot + 1;\r\n        }\r\n    }\r\n    return {\r\n        found: found,\r\n        index: (found ? start - 1 : start)\r\n    };\r\n}\r\n/**\r\n * Searches the array using custom function and returns index of the item if\r\n * found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns -1.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Index of the item if found\r\n */\r\nexport function findIndex(array, matches) {\r\n    var length = array.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        if (matches(array[i], i)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n/**\r\n * Searches the array using custom function and returns item if found.\r\n *\r\n * Will call `matches` function on all items of the array. If return value\r\n * evaluates to `true`, index is returned.\r\n *\r\n * Otherwise returns `undefined`.\r\n *\r\n * @param array    Source array\r\n * @param matches  Search function\r\n * @returns Item if found\r\n */\r\nexport function find(array, matches) {\r\n    var index = findIndex(array, matches);\r\n    if (index !== -1) {\r\n        return array[index];\r\n    }\r\n}\r\n/**\r\n * Iterates through all items in array and calls `fn` function for each of\r\n * them.\r\n *\r\n * @param array  Source array\r\n * @param fn     Callback function\r\n */\r\nexport function shuffle(array) {\r\n    // https://stackoverflow.com/a/2450976/449477\r\n    var currentIndex = array.length, temporaryValue, randomIndex;\r\n    // While there remain elements to shuffle...\r\n    while (0 !== currentIndex) {\r\n        // Pick a remaining element...\r\n        randomIndex = Math.floor(Math.random() * currentIndex);\r\n        currentIndex -= 1;\r\n        // And swap it with the current element.\r\n        temporaryValue = array[currentIndex];\r\n        array[currentIndex] = array[randomIndex];\r\n        array[randomIndex] = temporaryValue;\r\n    }\r\n}\r\n//# sourceMappingURL=Array.js.map","import { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * A base class for disposable objects.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar Disposer = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param dispose  Function that disposes object\r\n     */\r\n    function Disposer(dispose) {\r\n        this._disposed = false;\r\n        this._dispose = dispose;\r\n    }\r\n    /**\r\n     * Checks if object is disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    Disposer.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    /**\r\n     * Disposes the object.\r\n     */\r\n    Disposer.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            this._dispose();\r\n        }\r\n    };\r\n    return Disposer;\r\n}());\r\nexport { Disposer };\r\n/**\r\n * A collection of related disposers that can be disposed in one go.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nvar MultiDisposer = /** @class */ (function (_super) {\r\n    __extends(MultiDisposer, _super);\r\n    function MultiDisposer(disposers) {\r\n        return _super.call(this, function () {\r\n            $array.each(disposers, function (x) {\r\n                x.dispose();\r\n            });\r\n        }) || this;\r\n    }\r\n    return MultiDisposer;\r\n}(Disposer));\r\nexport { MultiDisposer };\r\n/**\r\n * A special kind of Disposer that has attached value set.\r\n *\r\n * If a new value is set using `set()` method, the old disposer value is\r\n * disposed.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar MutableValueDisposer = /** @class */ (function (_super) {\r\n    __extends(MutableValueDisposer, _super);\r\n    /**\r\n     * Constructor.\r\n     */\r\n    function MutableValueDisposer() {\r\n        var _this = _super.call(this, function () {\r\n            if ($type.hasValue(_this._disposer)) {\r\n                _this._disposer.dispose();\r\n                _this._disposer = undefined;\r\n            }\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Returns current value.\r\n     *\r\n     * @return Value\r\n     */\r\n    MutableValueDisposer.prototype.get = function () {\r\n        return this._value;\r\n    };\r\n    /**\r\n     * Sets value and disposes previous disposer if it was set.\r\n     *\r\n     * @param value     New value\r\n     * @param disposer  Disposer\r\n     */\r\n    MutableValueDisposer.prototype.set = function (value, disposer) {\r\n        if ($type.hasValue(this._disposer)) {\r\n            this._disposer.dispose();\r\n        }\r\n        this._disposer = disposer;\r\n        this._value = value;\r\n    };\r\n    /**\r\n     * Resets the disposer value.\r\n     */\r\n    MutableValueDisposer.prototype.reset = function () {\r\n        this.set(undefined, undefined);\r\n    };\r\n    return MutableValueDisposer;\r\n}(Disposer));\r\nexport { MutableValueDisposer };\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar CounterDisposer = /** @class */ (function (_super) {\r\n    __extends(CounterDisposer, _super);\r\n    function CounterDisposer() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * [_counter description]\r\n         *\r\n         * @todo Description\r\n         */\r\n        _this._counter = 0;\r\n        return _this;\r\n    }\r\n    /**\r\n     * [increment description]\r\n     *\r\n     * @todo Description\r\n     */\r\n    CounterDisposer.prototype.increment = function () {\r\n        var _this = this;\r\n        // TODO throw an error if it is disposed\r\n        ++this._counter;\r\n        // TODO make this more efficient\r\n        return new Disposer(function () {\r\n            --_this._counter;\r\n            if (_this._counter === 0) {\r\n                _this.dispose();\r\n            }\r\n        });\r\n    };\r\n    return CounterDisposer;\r\n}(Disposer));\r\nexport { CounterDisposer };\r\n//# sourceMappingURL=Disposer.js.map","import * as $array from \"./Array\";\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function fromArray(array) {\r\n    return function (push) {\r\n        var length = array.length;\r\n        for (var i = 0; i < length; ++i) {\r\n            if (!push(array[i])) {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function length(iter) {\r\n    var sum = 0;\r\n    iter(function (_) {\r\n        ++sum;\r\n        return true;\r\n    });\r\n    return sum;\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function toArray(iter) {\r\n    var output = [];\r\n    iter(function (value) {\r\n        output.push(value);\r\n        return true;\r\n    });\r\n    return output;\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function eachContinue(iter, fn) {\r\n    iter(fn);\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function each(iter, fn) {\r\n    iter(function (value) {\r\n        fn(value);\r\n        return true;\r\n    });\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function sort(iter, fn) {\r\n    return fromArray(toArray(iter).sort(fn));\r\n}\r\n/**\r\n * [A description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function map(iter, fn) {\r\n    return function (push) { return iter(function (value) { return push(fn(value)); }); };\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function filter(iter, fn) {\r\n    return function (push) { return iter(function (value) {\r\n        if (fn(value)) {\r\n            return push(value);\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }); };\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function concat() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return function (push) {\r\n        var go = true;\r\n        var push2 = function (value) { return (go = push(value)); };\r\n        var length = args.length;\r\n        for (var i = 0; i < length; ++i) {\r\n            args[i](push2);\r\n            if (!go) {\r\n                break;\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function flatten(iter) {\r\n    return function (push) {\r\n        var go = true;\r\n        var push2 = function (value) { return (go = push(value)); };\r\n        iter(function (value) {\r\n            value(push2);\r\n            return go;\r\n        });\r\n    };\r\n}\r\n/**\r\n * [number description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function indexed(iter) {\r\n    return function (push) {\r\n        var index = 0;\r\n        iter(function (value) { return push([index++, value]); });\r\n    };\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function findIndex(iter, matches) {\r\n    var found = false;\r\n    var i = 0;\r\n    iter(function (value) {\r\n        if (matches(value)) {\r\n            found = true;\r\n            return false;\r\n        }\r\n        else {\r\n            ++i;\r\n            return true;\r\n        }\r\n    });\r\n    return (found ? i : -1);\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function find(iter, matches) {\r\n    var output;\r\n    iter(function (value) {\r\n        if (matches(value)) {\r\n            output = value;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    });\r\n    return output;\r\n}\r\n/**\r\n * [A description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function findMap(iter, matches) {\r\n    var output;\r\n    iter(function (value) {\r\n        var v = matches(value);\r\n        if (v !== null) {\r\n            output = v;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    });\r\n    return output;\r\n}\r\n/**\r\n * [iter description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function contains(iter, matches) {\r\n    var output = false;\r\n    iter(function (value) {\r\n        if (matches(value)) {\r\n            output = true;\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    });\r\n    return output;\r\n}\r\n/**\r\n * [A description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport function foldl(iter, init, fn) {\r\n    iter(function (value) {\r\n        init = fn(init, value);\r\n        return true;\r\n    });\r\n    return init;\r\n}\r\n/**\r\n * [min2 description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param left [description]\r\n * @param right [description]\r\n * @return [description]\r\n */\r\nfunction min2(left, right) {\r\n    if (left == null || right < left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * [min description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Verify that this works correctly\r\n * @todo Description\r\n * @param a [description]\r\n * @return [description]\r\n */\r\nexport function min(a) {\r\n    return foldl(a, null, min2);\r\n}\r\n/**\r\n * [max2 description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param left [description]\r\n * @param right [description]\r\n * @return [description]\r\n */\r\nfunction max2(left, right) {\r\n    if (left == null || right > left) {\r\n        return right;\r\n    }\r\n    else {\r\n        return left;\r\n    }\r\n}\r\n/**\r\n * [max description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Verify that this works correctly\r\n * @todo Description\r\n * @param a [description]\r\n * @return [description]\r\n */\r\nexport function max(a) {\r\n    return foldl(a, null, max2);\r\n}\r\n/**\r\n * [join description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param iter [description]\r\n * @param separator [description]\r\n * @return [description]\r\n */\r\nexport function join(iter, separator) {\r\n    if (separator === void 0) { separator = \"\"; }\r\n    var first = true;\r\n    var init = \"\";\r\n    iter(function (value) {\r\n        if (first) {\r\n            first = false;\r\n        }\r\n        else {\r\n            init += separator;\r\n        }\r\n        init += value;\r\n        return true;\r\n    });\r\n    return init;\r\n}\r\n/**\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nvar ListIterator = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param list [description]\r\n     * @param create [description]\r\n     */\r\n    function ListIterator(list, create) {\r\n        // flag specifies if iterator should create new list item if it is reqested for a nextItem but there is no more left in the list\r\n        this.createNewItems = false;\r\n        this.list = list;\r\n        this._create = create;\r\n        this.reset();\r\n    }\r\n    ListIterator.prototype.reset = function () {\r\n        this._listCopy = toArray(this.list.iterator());\r\n    };\r\n    ListIterator.prototype.clear = function () {\r\n        this._listCopy.length = 0;\r\n    };\r\n    ListIterator.prototype.getFirst = function () {\r\n        return this.returnItem(0);\r\n    };\r\n    ListIterator.prototype.getLast = function () {\r\n        return this.returnItem(this._listCopy.length - 1);\r\n    };\r\n    ListIterator.prototype.find = function (fn) {\r\n        var index = $array.findIndex(this._listCopy, fn);\r\n        if (index !== -1) {\r\n            var item = this._listCopy[index];\r\n            // TODO use removeIndex instead ?\r\n            $array.remove(this._listCopy, item);\r\n            return item;\r\n        }\r\n        else {\r\n            return this.getLast();\r\n        }\r\n    };\r\n    ListIterator.prototype.removeItem = function (item) {\r\n        return $array.remove(this._listCopy, item);\r\n    };\r\n    ListIterator.prototype.returnItem = function (index) {\r\n        if (index >= 0 && index < this._listCopy.length) {\r\n            var item = this._listCopy[index];\r\n            // TODO use removeIndex instead ?\r\n            $array.remove(this._listCopy, item);\r\n            return item;\r\n        }\r\n        else if (this.createNewItems) {\r\n            return this._create();\r\n        }\r\n    };\r\n    ListIterator.prototype.iterator = function () {\r\n        return fromArray(this._listCopy);\r\n    };\r\n    return ListIterator;\r\n}());\r\nexport { ListIterator };\r\n//# sourceMappingURL=Iterator.js.map","/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents a relative value (percent).\r\n *\r\n * The Percent object, can be instantiated using two ways:\r\n *\r\n * * Via `new Percent(X)`.\r\n * * Via `am4core.percent(X)`.\r\n *\r\n * `Percent` type objects can be used in a number of dual-measuring or\r\n * positioning properties, like `width`. E.g.:\r\n *\r\n * ```TypeScript\r\n * chart.paddingRight = new Percent(10);\r\n * // or\r\n * chart.paddingRight = am4core.percent(10);\r\n * ```\r\n * ```JavaScript\r\n * chart.paddingRight = new Percent(10);\r\n * // or\r\n * chart.paddingRight = am4core.percent(10);\r\n * ```\r\n * ```JSON\r\n * {\r\n *   // ...\r\n *   \"paddingRight\": \"10%\"\r\n * }\r\n * ```\r\n */\r\nvar Percent = /** @class */ (function () {\r\n    /**\r\n     * Constructor.\r\n     *\r\n     * @param percent  Percent value\r\n     */\r\n    function Percent(percent) {\r\n        this._value = percent;\r\n    }\r\n    Object.defineProperty(Percent.prototype, \"value\", {\r\n        /**\r\n         * Relative value.\r\n         *\r\n         * E.g. 100% is 1, 50% is 0.5, etc.\r\n         *\r\n         * This is useful to apply transformations to other values. E.g.:\r\n         *\r\n         * ```TypeScript\r\n         * let value = 256;\r\n         * let percent = new am4core.Percent(50);\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         * ```JavaScript\r\n         * var value = 256;\r\n         * var percent = new am4core.Percent(50);\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         *\r\n         * Alternatively, you can use `am4core.percent()` helper function:\r\n         *\r\n         * ```TypeScript\r\n         * let value = 256;\r\n         * let percent = am4core.percent(50);\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         * ```JavaScript\r\n         * var value = 256;\r\n         * var percent = am4core.percent(50);\r\n         * console.log(value * percent.value); // outputs 128\r\n         * ```\r\n         *\r\n         * @readonly\r\n         * @return Relative value\r\n         */\r\n        get: function () {\r\n            return this._value / 100;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Percent.prototype, \"percent\", {\r\n        /**\r\n         * Value in percent.\r\n         *\r\n         * @return Percent\r\n         */\r\n        get: function () {\r\n            return this._value;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Percent.prototype.toString = function () {\r\n        return \"\" + this._value + \"%\";\r\n    };\r\n    return Percent;\r\n}());\r\nexport { Percent };\r\n/**\r\n * Converts numeric percent value to a proper [[Percent]] object.\r\n *\r\n * ```TypeScript\r\n * pieSeries.radius = am4core.percent(80);\r\n * ```\r\n * ```JavaScript\r\n * pieSeries.radius = am4core.percent(80);\r\n * ```\r\n *\r\n * @param value  Percent\r\n * @return Percent object\r\n */\r\nexport function percent(value) {\r\n    return new Percent(value);\r\n}\r\n/**\r\n * Checks if value is a [[Percent]] object.\r\n *\r\n * @ignore Exclude from docs\r\n * @param value  Input value\r\n * @return Is percent?\r\n */\r\nexport function isPercent(value) {\r\n    return value instanceof Percent;\r\n}\r\n//# sourceMappingURL=Percent.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * UTILITY FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Returns an iterator for all entries in object.\r\n *\r\n * Can be used to safely iterate through all properties of the object.\r\n *\r\n * @param object  Source object\r\n * @returns Iterator\r\n */\r\nexport function entries(object) {\r\n    return function (push) {\r\n        // TODO make this more efficient ?\r\n        for (var key in object) {\r\n            if (hasKey(object, key)) {\r\n                if (!push([key, object[key]])) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n}\r\n/**\r\n * Returns an array of object's property names.\r\n *\r\n * @param object  Source object\r\n * @returns Object property names\r\n */\r\nexport function keys(object) {\r\n    var output = [];\r\n    for (var key in object) {\r\n        if (hasKey(object, key)) {\r\n            output.push(key);\r\n        }\r\n    }\r\n    return output;\r\n}\r\n/**\r\n * Returns an array of object's property names ordered using specific ordering\r\n * function.\r\n *\r\n * @param object  Source object\r\n * @param order   Ordering function\r\n * @returns Object property names\r\n */\r\nexport function keysOrdered(object, order) {\r\n    return keys(object).sort(order);\r\n}\r\n/**\r\n * Checks if `object` has a specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Has key?\r\n */\r\nexport function hasKey(object, key) {\r\n    return {}.hasOwnProperty.call(object, key);\r\n}\r\n/**\r\n * Returns value of the specific `key`.\r\n *\r\n * @param object  Source object\r\n * @param key     Property name\r\n * @returns Key value\r\n */\r\nexport function getKey(object, key) {\r\n    return object[key];\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * If return value of the function evaluates to `false` further iteration is\r\n * cancelled.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function eachContinue(object, fn) {\r\n    for (var key in object) {\r\n        if (hasKey(object, key)) {\r\n            if (!fn(key, object[key])) {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Iterates through all properties of the object calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n */\r\nexport function each(object, fn) {\r\n    eachContinue(object, function (key, value) {\r\n        fn(key, value);\r\n        return true;\r\n    });\r\n}\r\n/**\r\n * Orders object properties using custom `ord` function and iterates through\r\n * them calling `fn` for each of them.\r\n *\r\n * @param object  Source object\r\n * @param fn      Callback function\r\n * @param order   Ordering function\r\n */\r\nexport function eachOrdered(object, fn, ord) {\r\n    $array.each(keysOrdered(object, ord), function (key) {\r\n        fn(key, object[key]);\r\n    });\r\n}\r\n/**\r\n * Returns a copy of the object.\r\n *\r\n * @param object  Source object\r\n * @returns Copy of the object\r\n */\r\nexport function copy(object) {\r\n    return Object.assign({}, object);\r\n}\r\n/**\r\n * Merges two objects and returns a new object that contains properties from\r\n * both source objects.\r\n *\r\n * @param object1  Source object #1\r\n * @param object2  Source object #2\r\n * @returns Combined object\r\n */\r\nexport function merge(object1, object2) {\r\n    return Object.assign({}, object1, object2);\r\n}\r\n/**\r\n * Copies a list of properties from one object to another.\r\n *\r\n * Will not copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function copyProperties(source, target, keys) {\r\n    $array.each(keys, function (key) {\r\n        if ($type.hasValue(source[key])) {\r\n            target[key] = source[key];\r\n        }\r\n    });\r\n}\r\n/**\r\n * Copies a list of properties from one object to another only if target does't have value of the property set.\r\n *\r\n * Will not copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function softCopyProperties(source, target, keys) {\r\n    $array.each(keys, function (key) {\r\n        if ($type.hasValue(source[key]) && !($type.hasValue(target[key]))) {\r\n            target[key] = source[key];\r\n        }\r\n    });\r\n}\r\n/**\r\n * Copies a list of properties from one object to another.\r\n *\r\n * Will copy empty properties.\r\n *\r\n * @param source  Source object\r\n * @param target    Target object\r\n * @param keys  List of keys to copy\r\n */\r\nexport function forceCopyProperties(source, target, keys) {\r\n    $array.each(keys, function (key) {\r\n        target[key] = source[key];\r\n    });\r\n}\r\n/**\r\n * Copies all properties from one object to another.\r\n *\r\n * @param from  Source object\r\n * @param to    Target object\r\n */\r\nexport function copyAllProperties(from, to) {\r\n    copyProperties(from, to, keys(from));\r\n}\r\n//# sourceMappingURL=Object.js.map","import { __extends, __generator, __read } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer } from \"./Disposer\";\r\nimport { EventDispatcher } from \"./EventDispatcher\";\r\nimport * as $object from \"./Object\";\r\nimport * as $iter from \"./Iterator\";\r\nimport * as $string from \"./String\";\r\n/**\r\n * A disposable dictionary, which when disposed itself will call `dispose()`\r\n * method on all its items.\r\n */\r\nvar DictionaryDisposer = /** @class */ (function (_super) {\r\n    __extends(DictionaryDisposer, _super);\r\n    function DictionaryDisposer(dict) {\r\n        var _this = this;\r\n        var disposer = dict.events.on(\"removed\", function (x) {\r\n            x.oldValue.dispose();\r\n        }, undefined, false);\r\n        _this = _super.call(this, function () {\r\n            disposer.dispose();\r\n            // TODO clear the dictionary ?\r\n            $iter.each(dict.iterator(), function (a) {\r\n                var v = a[1];\r\n                v.dispose();\r\n            });\r\n        }) || this;\r\n        return _this;\r\n    }\r\n    return DictionaryDisposer;\r\n}(Disposer));\r\nexport { DictionaryDisposer };\r\n/**\r\n * A Dictionary is collection where values of some type can be mapped to\r\n * string keys.\r\n *\r\n * You might call it an \"associative list\" or \"associative array\".\r\n */\r\nvar Dictionary = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     */\r\n    function Dictionary() {\r\n        /**\r\n         * Event dispatcher.\r\n         */\r\n        this.events = new EventDispatcher();\r\n        this._dictionary = {};\r\n    }\r\n    /**\r\n     * Returns `true` if key exists in Dictionary.\r\n     *\r\n     * @param key  The key to search for\r\n     * @return `true` if key exists, `false` if it doesn't\r\n     */\r\n    Dictionary.prototype.hasKey = function (key) {\r\n        return $object.hasKey(this._dictionary, key);\r\n    };\r\n    /**\r\n     * Returns the value for a specific key.\r\n     *\r\n     * @param key  The key to search for\r\n     * @return Value for the key, or `undefined` if it doesn't exist\r\n     */\r\n    Dictionary.prototype.getKey = function (key) {\r\n        return this._dictionary[key];\r\n    };\r\n    /**\r\n     * Inserts value at specific key.\r\n     *\r\n     * Will thrown an exception if the key already exists in the dictionary.\r\n     *\r\n     * @param key    Key\r\n     * @param value  Value\r\n     */\r\n    Dictionary.prototype.insertKey = function (key, value) {\r\n        if ($object.hasKey(this._dictionary, key)) {\r\n            throw new Error(\"Key \" + key + \" already exists in dictionary\");\r\n        }\r\n        else {\r\n            this._dictionary[key] = value;\r\n            if (this.events.isEnabled(\"insertKey\")) {\r\n                this.events.dispatchImmediately(\"insertKey\", {\r\n                    type: \"insertKey\",\r\n                    target: this,\r\n                    key: key,\r\n                    newValue: value\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Adds or updates key/value into dictionary.\r\n     *\r\n     * If the key already exists, the old value will be overwritten.\r\n     *\r\n     * If the new value is exactly the same as the old value (using ===), it won't do anything.\r\n     *\r\n     * @param key    Key\r\n     * @param value  Value\r\n     */\r\n    Dictionary.prototype.setKey = function (key, value) {\r\n        if ($object.hasKey(this._dictionary, key)) {\r\n            var oldValue = this._dictionary[key];\r\n            if (oldValue !== value) {\r\n                this._dictionary[key] = value;\r\n                if (this.events.isEnabled(\"setKey\")) {\r\n                    this.events.dispatchImmediately(\"setKey\", {\r\n                        type: \"setKey\",\r\n                        target: this,\r\n                        key: key,\r\n                        oldValue: oldValue,\r\n                        newValue: value\r\n                    });\r\n                }\r\n                if (this.events.isEnabled(\"removed\")) {\r\n                    this.events.dispatchImmediately(\"removed\", {\r\n                        type: \"removed\",\r\n                        target: this,\r\n                        oldValue: oldValue\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._dictionary[key] = value;\r\n            if (this.events.isEnabled(\"insertKey\")) {\r\n                this.events.dispatchImmediately(\"insertKey\", {\r\n                    type: \"insertKey\",\r\n                    target: this,\r\n                    key: key,\r\n                    newValue: value\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Updates the value at specific `key` using custom function.\r\n     *\r\n     * Passes in current value into the function, and uses its output as a new\r\n     * value.\r\n     *\r\n     * If the new value is exactly the same as the old value (using ===), it won't do anything.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @param key  Key\r\n     * @param fn   Function to transform the value\r\n     */\r\n    Dictionary.prototype.updateKey = function (key, fn) {\r\n        if ($object.hasKey(this._dictionary, key)) {\r\n            var oldValue = this._dictionary[key];\r\n            var newValue = fn(oldValue);\r\n            if (oldValue !== newValue) {\r\n                this._dictionary[key] = newValue;\r\n                if (this.events.isEnabled(\"setKey\")) {\r\n                    this.events.dispatchImmediately(\"setKey\", {\r\n                        type: \"setKey\",\r\n                        target: this,\r\n                        key: key,\r\n                        oldValue: oldValue,\r\n                        newValue: newValue\r\n                    });\r\n                }\r\n                if (this.events.isEnabled(\"removed\")) {\r\n                    this.events.dispatchImmediately(\"removed\", {\r\n                        type: \"removed\",\r\n                        target: this,\r\n                        oldValue: oldValue\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            throw new Error(\"Key \" + key + \" doesn't exist in dictionary\");\r\n        }\r\n    };\r\n    /**\r\n     * Removes value at specific `key` from dictionary.\r\n     *\r\n     * @param key  Key to remove\r\n     */\r\n    Dictionary.prototype.removeKey = function (key) {\r\n        if ($object.hasKey(this._dictionary, key)) {\r\n            var oldValue = this._dictionary[key];\r\n            delete this._dictionary[key];\r\n            if (this.events.isEnabled(\"removeKey\")) {\r\n                this.events.dispatchImmediately(\"removeKey\", {\r\n                    type: \"removeKey\",\r\n                    target: this,\r\n                    key: key,\r\n                    oldValue: oldValue\r\n                });\r\n            }\r\n            if (this.events.isEnabled(\"removed\")) {\r\n                this.events.dispatchImmediately(\"removed\", {\r\n                    type: \"removed\",\r\n                    target: this,\r\n                    oldValue: oldValue\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * [insertKeyIfEmpty description]\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @todo description\r\n     * @param key      [description]\r\n     * @param ifEmpty  [description]\r\n     * @return [description]\r\n     */\r\n    Dictionary.prototype.insertKeyIfEmpty = function (key, ifEmpty) {\r\n        if (!this.hasKey(key)) {\r\n            this.insertKey(key, ifEmpty());\r\n        }\r\n        return this.getKey(key);\r\n    };\r\n    /**\r\n     * Removes all items from the dictionary.\r\n     */\r\n    Dictionary.prototype.clear = function () {\r\n        var _this = this;\r\n        // TODO dispatch this after clear\r\n        if (this.events.isEnabled(\"removed\")) {\r\n            $object.each(this._dictionary, function (key, value) {\r\n                _this.events.dispatchImmediately(\"removed\", {\r\n                    type: \"removed\",\r\n                    target: _this,\r\n                    oldValue: value\r\n                });\r\n            });\r\n        }\r\n        this._dictionary = {};\r\n        if (this.events.isEnabled(\"cleared\")) {\r\n            this.events.dispatchImmediately(\"cleared\", {\r\n                type: \"cleared\",\r\n                target: this\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Copies items from another Dictionary.\r\n     *\r\n     * @param source  A Dictionary to copy items from\r\n     */\r\n    Dictionary.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        $iter.each(source.iterator(), function (a) {\r\n            // TODO fix this type cast\r\n            _this.setKey(a[0], a[1]);\r\n        });\r\n    };\r\n    /**\r\n     * Returns an interator that can be used to iterate through all items in\r\n     * the dictionary.\r\n     *\r\n     * @return Iterator\r\n     */\r\n    Dictionary.prototype.iterator = function () {\r\n        // @todo fix this type after the Iterator bug is fixed\r\n        // https://github.com/Microsoft/TypeScript/issues/16730\r\n        return $object.entries(this._dictionary);\r\n    };\r\n    /**\r\n     * Returns an ES6 iterator for the keys/values of the dictionary.\r\n     */\r\n    Dictionary.prototype[Symbol.iterator] = function () {\r\n        var _a, _b, _i, key;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    _a = [];\r\n                    for (_b in this._dictionary)\r\n                        _a.push(_b);\r\n                    _i = 0;\r\n                    _c.label = 1;\r\n                case 1:\r\n                    if (!(_i < _a.length)) return [3 /*break*/, 4];\r\n                    key = _a[_i];\r\n                    if (!$object.hasKey(this._dictionary, key)) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, [key, this._dictionary[key]]];\r\n                case 2:\r\n                    _c.sent();\r\n                    _c.label = 3;\r\n                case 3:\r\n                    _i++;\r\n                    return [3 /*break*/, 1];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Calls `f` for each key/value in the dictionary.\r\n     */\r\n    Dictionary.prototype.each = function (f) {\r\n        $iter.each(this.iterator(), function (_a) {\r\n            var _b = __read(_a, 2), key = _b[0], value = _b[1];\r\n            return f(key, value);\r\n        });\r\n    };\r\n    /**\r\n     * Returns an iterator that can be used to iterate through all items in\r\n     * the dictionary, ordered by key.\r\n     *\r\n     * @ignore Exclude from docs\r\n     * @return Iterator\r\n     */\r\n    Dictionary.prototype.sortedIterator = function () {\r\n        return $iter.sort(this.iterator(), function (x, y) { return $string.order(x[0], y[0]); });\r\n    };\r\n    return Dictionary;\r\n}());\r\nexport { Dictionary };\r\n/**\r\n * A version of a [[Dictionary]] that has a \"template\".\r\n *\r\n * A template is an instance of an object, that can be used to create new\r\n * elements in the list without actually needing to create instances for those.\r\n *\r\n * When new element is created in the list, e.g. by calling its `create()`\r\n * method, an exact copy of the element is created (including properties and\r\n * other attributes), inserted into the list and returned.\r\n */\r\nvar DictionaryTemplate = /** @class */ (function (_super) {\r\n    __extends(DictionaryTemplate, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param t Template object\r\n     */\r\n    function DictionaryTemplate(t) {\r\n        var _this = _super.call(this) || this;\r\n        _this.template = t;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(DictionaryTemplate.prototype, \"template\", {\r\n        /**\r\n         * @return Template object\r\n         */\r\n        get: function () {\r\n            return this._template;\r\n        },\r\n        /**\r\n         * A \"template\" object to copy all properties from when creating new list\r\n         * items.\r\n         *\r\n         * @param v  Template object\r\n         */\r\n        set: function (v) {\r\n            v.isTemplate = true;\r\n            this._template = v;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Copies all elements from other dictionary.\r\n     *\r\n     * @param source  Source dictionary\r\n     */\r\n    DictionaryTemplate.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        $iter.each(source.iterator(), function (a) {\r\n            // TODO fix this type cast\r\n            // TODO why does this need to clone ?\r\n            _this.setKey(a[0], a[1].clone());\r\n        });\r\n    };\r\n    /**\r\n     * Instantiates a new object of the specified type, adds it to specified\r\n     * `key` in the dictionary, and returns it.\r\n     *\r\n     * @param make  Item type to use. Will use the default type for the dictionary if not specified.\r\n     * @return      Newly created item\r\n     */\r\n    DictionaryTemplate.prototype.create = function (key) {\r\n        var _this = this;\r\n        return this.insertKeyIfEmpty(key, function () { return _this.template.clone(); });\r\n    };\r\n    return DictionaryTemplate;\r\n}(Dictionary));\r\nexport { DictionaryTemplate };\r\n//# sourceMappingURL=Dictionary.js.map","/**\r\n * Event Dispatcher module is used for registering listeners and dispatching\r\n * events across amCharts system.\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Disposer } from \"./Disposer\";\r\nimport * as $array from \"./Array\";\r\nimport * as $async from \"./AsyncPending\";\r\nimport * as $type from \"./Type\";\r\n/*export interface IEventDispatcher<T> {\r\n    isDisposed(): boolean;\r\n    dispose(): void;\r\n    hasListeners(): boolean;\r\n    enable(): void;\r\n    disable(): void;\r\n    enableType<Key extends keyof T>(type: Key): void;\r\n    disableType<Key extends keyof T>(type: Key, amount?: number): void;\r\n    isEnabled<Key extends keyof T>(type: Key): boolean;\r\n    has<C, Key extends keyof T>(type: Key, callback?: (this: C, event: T[Key]) => void, context?: C): boolean;\r\n    dispatchImmediately<Key extends keyof T>(type: Key, event: T[Key]): void;\r\n    dispatch<Key extends keyof T>(type: Key, event: T[Key]): void;\r\n    onAll<C, Key extends keyof T>(callback: (this: C, type: Key, event: T[Key]) => void, context?: C): IDisposer;\r\n    on<C, Key extends keyof T>(type: Key, callback: (this: C, event: T[Key]) => void, context?: C): IDisposer;\r\n    once<C, Key extends keyof T>(type: Key, callback: (this: C, event: T[Key]) => void, context?: C): IDisposer;\r\n    off<C, Key extends keyof T>(type: Key, callback: (this: C, event: T[Key]) => void, context?: C): void;\r\n    off<C, Key extends keyof T>(type: Key, callback: (this: C, event: T[Key]) => void, context?: C): void;\r\n    copyFrom(source: this): void;\r\n}*/\r\n/**\r\n * Universal Event Dispatcher.\r\n *\r\n * @important\r\n */\r\nvar EventDispatcher = /** @class */ (function () {\r\n    /**\r\n     * Constructor\r\n     */\r\n    function EventDispatcher() {\r\n        this._listeners = [];\r\n        this._killed = [];\r\n        this._disabled = {};\r\n        this._iterating = 0;\r\n        this._enabled = true;\r\n        this._disposed = false;\r\n    }\r\n    /**\r\n     * Returns if this object has been already disposed.\r\n     *\r\n     * @return Disposed?\r\n     */\r\n    EventDispatcher.prototype.isDisposed = function () {\r\n        return this._disposed;\r\n    };\r\n    /**\r\n     * Dispose (destroy) this object.\r\n     */\r\n    EventDispatcher.prototype.dispose = function () {\r\n        if (!this._disposed) {\r\n            this._disposed = true;\r\n            var a = this._listeners;\r\n            this._iterating = 1;\r\n            this._listeners = null;\r\n            this._disabled = null;\r\n            try {\r\n                $array.each(a, function (x) {\r\n                    x.disposer.dispose();\r\n                });\r\n            }\r\n            finally {\r\n                this._killed = null;\r\n                this._iterating = null;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Checks if this particular event dispatcher has any listeners set.\r\n     *\r\n     * @return Has listeners?\r\n     */\r\n    EventDispatcher.prototype.hasListeners = function () {\r\n        return this._listeners.length !== 0;\r\n    };\r\n    /**\r\n     * Checks if this particular event dispatcher has any particular listeners set.\r\n     *\r\n     * @return Has particular event listeners?\r\n     */\r\n    EventDispatcher.prototype.hasListenersByType = function (type) {\r\n        return $array.any(this._listeners, function (x) { return (x.type === null || x.type === type) && !x.killed; });\r\n    };\r\n    /**\r\n     * Enable dispatching of events if they were previously disabled by\r\n     * `disable()`.\r\n     */\r\n    EventDispatcher.prototype.enable = function () {\r\n        this._enabled = true;\r\n    };\r\n    /**\r\n     * Disable dispatching of events until re-enabled by `enable()`.\r\n     */\r\n    EventDispatcher.prototype.disable = function () {\r\n        this._enabled = false;\r\n    };\r\n    /**\r\n     * Enable dispatching particular event, if it was disabled before by\r\n     * `disableType()`.\r\n     *\r\n     * @param type Event type\r\n     */\r\n    EventDispatcher.prototype.enableType = function (type) {\r\n        delete this._disabled[type];\r\n    };\r\n    /**\r\n     * Disable dispatching of events for a certain event type.\r\n     *\r\n     * Optionally, can set how many dispatches to skip before automatically\r\n     * re-enabling the dispatching.\r\n     *\r\n     * @param type    Event type\r\n     * @param amount  Number of event dispatches to skip\r\n     */\r\n    EventDispatcher.prototype.disableType = function (type, amount) {\r\n        if (amount === void 0) { amount = Infinity; }\r\n        this._disabled[type] = amount;\r\n    };\r\n    /**\r\n     * Removes listener from dispatcher.\r\n     *\r\n     * Will throw an exception if such listener does not exists.\r\n     *\r\n     * @param listener Listener to remove\r\n     */\r\n    EventDispatcher.prototype._removeListener = function (listener) {\r\n        if (this._iterating === 0) {\r\n            var index = this._listeners.indexOf(listener);\r\n            if (index === -1) {\r\n                throw new Error(\"Invalid state: could not remove listener\");\r\n            }\r\n            this._listeners.splice(index, 1);\r\n        }\r\n        else {\r\n            this._killed.push(listener);\r\n        }\r\n    };\r\n    /**\r\n     * Removes existing listener by certain parameters.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    EventDispatcher.prototype._removeExistingListener = function (once, type, callback, context) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._eachListener(function (info) {\r\n            if (info.once === once && // TODO is this correct ?\r\n                info.type === type &&\r\n                (callback == null || info.callback === callback) &&\r\n                info.context === context) {\r\n                info.disposer.dispose();\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Checks if dispatching for particular event type is enabled.\r\n     *\r\n     * @param type  Event type\r\n     * @return Enabled?\r\n     */\r\n    EventDispatcher.prototype.isEnabled = function (type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        // TODO is this check correct ?\r\n        return this._enabled && this._listeners.length > 0 && this.hasListenersByType(type) && this._disabled[type] == null;\r\n    };\r\n    /**\r\n     * Checks if there's already a listener with specific parameters.\r\n     *\r\n     * @param type      Listener's type\r\n     * @param callback  Callback function\r\n     * @param context   Callback context\r\n     * @return Has listener?\r\n     */\r\n    EventDispatcher.prototype.has = function (type, callback, context) {\r\n        var index = $array.findIndex(this._listeners, function (info) {\r\n            return info.once !== true && // Ignoring \"once\" listeners\r\n                info.type === type &&\r\n                (callback == null || info.callback === callback) &&\r\n                info.context === context;\r\n        });\r\n        return index !== -1;\r\n    };\r\n    /**\r\n     * Checks whether event of the particular type should be dispatched.\r\n     *\r\n     * @param type  Event type\r\n     * @return Dispatch?\r\n     */\r\n    EventDispatcher.prototype._shouldDispatch = function (type) {\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        var count = this._disabled[type];\r\n        if (!$type.isNumber(count)) {\r\n            return this._enabled;\r\n        }\r\n        else {\r\n            if (count <= 1) {\r\n                delete this._disabled[type];\r\n            }\r\n            else {\r\n                --this._disabled[type];\r\n            }\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * [_eachListener description]\r\n     *\r\n     * All of this extra code is needed when a listener is removed while iterating\r\n     *\r\n     * @todo Description\r\n     * @param fn [description]\r\n     */\r\n    EventDispatcher.prototype._eachListener = function (fn) {\r\n        var _this = this;\r\n        ++this._iterating;\r\n        try {\r\n            $array.each(this._listeners, fn);\r\n        }\r\n        finally {\r\n            --this._iterating;\r\n            // TODO should this be inside or outside the finally ?\r\n            if (this._iterating === 0 && this._killed.length !== 0) {\r\n                // Remove killed listeners\r\n                $array.each(this._killed, function (killed) {\r\n                    _this._removeListener(killed);\r\n                });\r\n                this._killed.length = 0;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Dispatches an event immediately without waiting for next cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    EventDispatcher.prototype.dispatchImmediately = function (type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            // TODO check if it's faster to use an object of listeners rather than a single big array\r\n            // TODO if the function throws, maybe it should keep going ?\r\n            this._eachListener(function (listener) {\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    listener.dispatch(type, event);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Shelves the event to be dispatched within next update cycle.\r\n     *\r\n     * @param type   Event type\r\n     * @param event  Event object\r\n     * @todo automatically add in type and target properties if they are missing\r\n     */\r\n    EventDispatcher.prototype.dispatch = function (type, event) {\r\n        if (this._shouldDispatch(type)) {\r\n            this._eachListener(function (listener) {\r\n                // TODO check if it's faster to use an object of listeners rather than a single big array\r\n                if (!listener.killed && (listener.type === null || listener.type === type)) {\r\n                    // TODO if the function throws, maybe it should keep going ?\r\n                    // TODO dispatch during the update cycle, rather than using whenIdle\r\n                    $async.whenIdle(function () {\r\n                        if (!listener.killed) {\r\n                            listener.dispatch(type, event);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Creates, catalogs and returns an [[EventListener]].\r\n     *\r\n     * Event listener can be disposed.\r\n     *\r\n     * @param once         Listener's once setting\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @param dispatch\r\n     * @returns An event listener\r\n     */\r\n    EventDispatcher.prototype._on = function (once, type, callback, context, shouldClone, dispatch) {\r\n        var _this = this;\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        this._removeExistingListener(once, type, callback, context);\r\n        var info = {\r\n            type: type,\r\n            callback: callback,\r\n            context: context,\r\n            shouldClone: shouldClone,\r\n            dispatch: dispatch,\r\n            killed: false,\r\n            once: once,\r\n            disposer: new Disposer(function () {\r\n                info.killed = true;\r\n                _this._removeListener(info);\r\n            })\r\n        };\r\n        this._listeners.push(info);\r\n        return info;\r\n    };\r\n    /**\r\n     * Creates an event listener to be invoked on **any** event.\r\n     *\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     * @todo what if `listen` is called on the same function twice ?\r\n     */\r\n    EventDispatcher.prototype.onAll = function (callback, context, shouldClone) {\r\n        if (shouldClone === void 0) { shouldClone = true; }\r\n        return this._on(false, null, callback, context, shouldClone, function (type, event) { return callback.call(context, type, event); }).disposer;\r\n    };\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type.\r\n     *\r\n     * ```TypeScript\r\n     * series.events.on(\"hidden\", (ev) => {\r\n     *   console.log(\"Series hidden: \" + ev.target.name);\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * series.events.on(\"hidden\", function(ev) {\r\n     *   console.log(\"Series hidden: \" + ev.target.name);\r\n     * }, this);\r\n     * ```\r\n     * ```JSON\r\n     * {\r\n     *   // ...\r\n     *   \"series\": [{\r\n     *     // ...\r\n     *     \"events\": {\r\n     *     \t\"hidden\": function(ev) {\r\n     *     \t  console.log(\"Series hidden: \" + ev.target.name);\r\n     *     \t}\r\n     *     }\r\n     *   }]\r\n     * }\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler whenever series we put\r\n     * event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     * @todo what if `listen` is called on the same function twice ?\r\n     */\r\n    EventDispatcher.prototype.on = function (type, callback, context, shouldClone) {\r\n        if (shouldClone === void 0) { shouldClone = true; }\r\n        return this._on(false, type, callback, context, shouldClone, function (type, event) { return callback.call(context, event); }).disposer;\r\n    };\r\n    /**\r\n     * Creates an event listener to be invoked on a specific event type once.\r\n     *\r\n     * Once the event listener is invoked, it is automatically disposed.\r\n     *\r\n     * ```TypeScript\r\n     * series.events.on(\"hidden\", (ev) => {\r\n     *   console.log(\"Series hidden: \" + ev.target.name);\r\n     * }, this);\r\n     * ```\r\n     * ```JavaScript\r\n     * series.events.on(\"hidden\", function(ev) {\r\n     *   console.log(\"Series hidden: \" + ev.target.name);\r\n     * }, this);\r\n     * ```\r\n     * ```JSON\r\n     * {\r\n     *   // ...\r\n     *   \"series\": [{\r\n     *     // ...\r\n     *     \"events\": {\r\n     *     \t\"hidden\": function(ev) {\r\n     *     \t  console.log(\"Series hidden: \" + ev.target.name);\r\n     *     \t}\r\n     *     }\r\n     *   }]\r\n     * }\r\n     * ```\r\n     *\r\n     * The above will invoke our custom event handler the first time series we\r\n     * put event on is hidden.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     * @param shouldClone  Whether the listener should be copied when the EventDispatcher is copied\r\n     * @returns A disposable event listener\r\n     * @todo what if `listen` is called on the same function twice ?\r\n     */\r\n    EventDispatcher.prototype.once = function (type, callback, context, shouldClone) {\r\n        if (shouldClone === void 0) { shouldClone = true; }\r\n        var x = this._on(true, type, callback, context, shouldClone, function (type, event) {\r\n            x.disposer.dispose();\r\n            callback.call(context, event);\r\n        });\r\n        // TODO maybe this should return a different Disposer ?\r\n        return x.disposer;\r\n    };\r\n    /**\r\n     * Removes the event listener with specific parameters.\r\n     *\r\n     * @param type         Listener's type\r\n     * @param callback     Callback function\r\n     * @param context      Callback context\r\n     */\r\n    EventDispatcher.prototype.off = function (type, callback, context) {\r\n        this._removeExistingListener(false, type, callback, context);\r\n    };\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     */\r\n    EventDispatcher.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        $array.each(source._listeners, function (x) {\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    _this.onAll(x.callback, x.context);\r\n                }\r\n                else if (x.once) {\r\n                    _this.once(x.type, x.callback, x.context);\r\n                }\r\n                else {\r\n                    _this.on(x.type, x.callback, x.context);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return EventDispatcher;\r\n}());\r\nexport { EventDispatcher };\r\n/**\r\n * A version of the [[EventDispatcher]] that dispatches events for a specific\r\n * target object.\r\n *\r\n * @important\r\n */\r\nvar TargetedEventDispatcher = /** @class */ (function (_super) {\r\n    __extends(TargetedEventDispatcher, _super);\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param target Event dispatcher target\r\n     */\r\n    function TargetedEventDispatcher(target) {\r\n        var _this = _super.call(this) || this;\r\n        _this.target = target;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Copies all dispatcher parameters, including listeners, from another event\r\n     * dispatcher.\r\n     *\r\n     * @param source Source event dispatcher\r\n     */\r\n    TargetedEventDispatcher.prototype.copyFrom = function (source) {\r\n        var _this = this;\r\n        if (this._disposed) {\r\n            throw new Error(\"EventDispatcher is disposed\");\r\n        }\r\n        if (source === this) {\r\n            throw new Error(\"Cannot copyFrom the same TargetedEventDispatcher\");\r\n        }\r\n        $array.each(source._listeners, function (x) {\r\n            // TODO very hacky\r\n            if (x.context === source.target) {\r\n                return;\r\n            }\r\n            // TODO is this correct ?\r\n            if (!x.killed && x.shouldClone) {\r\n                if (x.type === null) {\r\n                    _this.onAll(x.callback, x.context);\r\n                }\r\n                else if (x.once) {\r\n                    _this.once(x.type, x.callback, x.context);\r\n                }\r\n                else {\r\n                    _this.on(x.type, x.callback, x.context);\r\n                }\r\n            }\r\n        });\r\n    };\r\n    return TargetedEventDispatcher;\r\n}(EventDispatcher));\r\nexport { TargetedEventDispatcher };\r\n//# sourceMappingURL=EventDispatcher.js.map","/**\r\n * A collection of low-level async operation stuff.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\nvar pendingFrame = false;\r\nvar nextQueue = [];\r\nvar readQueue = [];\r\nvar writeQueue = [];\r\nvar idleQueue = [];\r\nvar fps = 1000 / 60;\r\n/**\r\n * [raf description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport var raf = (typeof requestAnimationFrame === \"function\"\r\n    ? function (fn) {\r\n        requestAnimationFrame(fn);\r\n    }\r\n    : function (fn) {\r\n        setTimeout(fn, fps);\r\n    });\r\n/**\r\n * [frameLoop description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nfunction frameLoop() {\r\n    var now = Date.now();\r\n    var length = nextQueue.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        nextQueue[i](now);\r\n    }\r\n    $array.shiftLeft(nextQueue, length);\r\n    for (var i = 0; i < readQueue.length; ++i) {\r\n        readQueue[i](now);\r\n    }\r\n    readQueue.length = 0;\r\n    for (var i = 0; i < writeQueue.length; ++i) {\r\n        writeQueue[i](now);\r\n    }\r\n    writeQueue.length = 0;\r\n    if (nextQueue.length === 0 && readQueue.length === 0) {\r\n        pendingFrame = false;\r\n    }\r\n    else {\r\n        raf(frameLoop);\r\n    }\r\n}\r\n/**\r\n * [pendFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nfunction pendFrame() {\r\n    if (!pendingFrame) {\r\n        pendingFrame = true;\r\n        raf(frameLoop);\r\n    }\r\n}\r\n/**\r\n * [nextFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function nextFrame(fn) {\r\n    nextQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [readFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function readFrame(fn) {\r\n    readQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [writeFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function writeFrame(fn) {\r\n    writeQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [whenIdle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function whenIdle(fn) {\r\n    idleQueue.push(fn);\r\n}\r\n/**\r\n * [triggerIdle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @todo Maybe don't trigger a callback which was added while in the middle of triggering?\r\n */\r\nexport function triggerIdle() {\r\n    var now = Date.now();\r\n    var length = idleQueue.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        idleQueue.shift()(now);\r\n    }\r\n}\r\n//# sourceMappingURL=AsyncPending.js.map","/**\r\n * ============================================================================\r\n * COMPARING FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Comparing function used for ordering.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Use localeCompare\r\n * @param a  Item 1\r\n * @param b  Item 2\r\n * @return Result\r\n */\r\nexport function order(a, b) {\r\n    if (a === b) {\r\n        return 0;\r\n    }\r\n    else if (a < b) {\r\n        return -1;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\n/**\r\n * ============================================================================\r\n * OTHER FUNCTIONS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Repeats a `string` number of times as set in `amount`.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Make this faster\r\n * @param string  Source string\r\n * @param amount  Number of times to repeat string\r\n * @return New string\r\n */\r\nexport function repeat(string, amount) {\r\n    return new Array(amount + 1).join(string);\r\n}\r\n/**\r\n * Generates a random string `characters` length.\r\n *\r\n * @param chars  Number of characters\r\n * @return Random string\r\n */\r\nexport function random(chars) {\r\n    var res = \"\";\r\n    var choice = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n    for (var i = 0; i < chars; i++) {\r\n        res += choice.charAt(Math.floor(Math.random() * choice.length));\r\n    }\r\n    return res;\r\n}\r\n//# sourceMappingURL=String.js.map","/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport { Dictionary } from \"./Dictionary\";\r\nimport * as $type from \"./Type\";\r\n/**\r\n * ============================================================================\r\n * MAIN CLASS\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * Represents object cache.\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Better storage\r\n * @todo TTL logging\r\n * @todo Garbage collector\r\n */\r\nvar Cache = /** @class */ (function () {\r\n    function Cache() {\r\n        /**\r\n         * Storage for cache items.\r\n         */\r\n        this._storage = new Dictionary();\r\n        /**\r\n         * Default TTL in milliseconds.\r\n         */\r\n        this.ttl = 1000;\r\n    }\r\n    /**\r\n     * Caches or updates cached value, resets TTL.\r\n     *\r\n     * If `ttl` is set to zero, item will never expire.\r\n     *\r\n     * @param owner  An id of the object that owns this cache\r\n     * @param key    Index key\r\n     * @param value  Value\r\n     * @param ttl    TTL of the cache to live in milliseconds\r\n     */\r\n    Cache.prototype.set = function (owner, key, value, ttl) {\r\n        // Create if storage does not exist for this owner\r\n        var ownerStorage = this._storage.insertKeyIfEmpty(owner, function () { return new Dictionary(); });\r\n        // Create cache item\r\n        var item = {\r\n            \"touched\": new Date().getTime(),\r\n            \"ttl\": $type.isNumber(ttl) ? ttl : this.ttl,\r\n            \"value\": value\r\n        };\r\n        // Set\r\n        ownerStorage.setKey(key, item);\r\n    };\r\n    /**\r\n     * Rerturns cached item, respecting TTL.\r\n     *\r\n     * @param owner  An id of the object that owns this cache\r\n     * @param key    Index key\r\n     * @param value  Value to return if cache not available\r\n     * @return Value, or `undefined` if not set\r\n     */\r\n    Cache.prototype.get = function (owner, key, value) {\r\n        if (value === void 0) { value = undefined; }\r\n        // \t\t || ypeof this._storage[owner][key] === \"undefined\" || this._storage[owner][key].expired === true) {\r\n        if (this._storage.hasKey(owner)) {\r\n            var ownerStorage = this._storage.getKey(owner);\r\n            if (ownerStorage.hasKey(key)) {\r\n                var cacheItem = ownerStorage.getKey(key);\r\n                if (cacheItem.ttl && ((cacheItem.touched + cacheItem.ttl) < new Date().getTime())) {\r\n                    cacheItem.expired = true;\r\n                }\r\n                if (cacheItem.expired) {\r\n                    ownerStorage.removeKey(key);\r\n                    return value;\r\n                }\r\n                return cacheItem.value;\r\n            }\r\n            else {\r\n                return value;\r\n            }\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    };\r\n    /**\r\n     * Clears cache for specific owner or everything.\r\n     *\r\n     * @param owner Owner to clear cache for\r\n     */\r\n    Cache.prototype.clear = function (owner) {\r\n        if (owner) {\r\n            this._storage.removeKey(owner);\r\n        }\r\n        else {\r\n            this._storage.clear();\r\n        }\r\n    };\r\n    return Cache;\r\n}());\r\nexport { Cache };\r\n/**\r\n * ============================================================================\r\n * GLOBAL INSTANCE\r\n * ============================================================================\r\n * @hidden\r\n */\r\n/**\r\n * A global instance of cache. Use this instance to cache any values.\r\n *\r\n * @ignore Exclude from docs\r\n */\r\nexport var cache = new Cache();\r\n//# sourceMappingURL=Cache.js.map"],"sourceRoot":""}